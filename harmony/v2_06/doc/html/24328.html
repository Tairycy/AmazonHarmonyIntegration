<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Abstraction Model</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="24419.html">System Service Libraries Help</a> &gt; <a href="14396.html">Interrupt System Service Library</a> &gt; <a href="24333.html">Using the Library</a> &gt; <a href="24328.html">Abstraction Model</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="24333.html">Previous</a> | <a href="24333.html">Up</a> | <a href="24330.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: SYSTEM INT Library Abstraction Model Topic Title: Abstraction Model)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
Abstraction Model</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10" style="text-align: center;">
<img src="stack.png" border="0" alt="" title=""></p><div class="Element15">
Interrupt System Service</div>
<p class="Element10">
The interrupt system services provide support for initializing the processor's interrupt controller, managing Interrupt Service Routines (ISRs) and managing interrupts.</p><div class="Element15">
Initialization</div>
<p class="Element10">
Each software module (device driver, library, or application) that needs to receive an interrupt must enable that interrupt itself. This is normally done in the module's initialization routine which is called by the <a href="23925.html">SYS_Initialize</a> service.&nbsp;</p>
<p class="Element10">
A module that intends to use an interrupt must first register the Tasks function that is to be called when the desired source causes an interrupt. Then, it must enable that source, once it is ready to start receiving interrupts.&nbsp;</p>
<p class="Element10">
If the interrupt system service is configured for static usage, the routine that dynamically registers the Tasks function will be nulled out by a macro (generating no run-time code) and, instead, the Tasks routine must be called statically from the function that implements the raw ISR vector. How this is done is different for each processor family, as explained in the following section.</p><div class="Element15">
Interrupt Service Routine (ISR)</div>
<p class="Element10">
Each software module (device driver, library, or application) that needs to receive an interrupt must implement a Tasks routine to handle that interrupt. In order for the module to operate in an interrupt-driven mode, the Tasks routine must be called from within the appropriate &quot;raw&quot; Interrupt Service Routine (ISR).&nbsp;</p>
<p class="Element10">
How the raw ISR is implemented is highly dependent upon the specific processor being used. Libraries are available that implement raw ISRs for each processor family in a way that allows dynamic registration and deregistration of Tasks routines. These libraries maintain tables that associate the Tasks routine registered by the SYS INIT service with each interrupt source in the system.&nbsp;</p>
<p class="Element10">
Alternately, in a statically-linked system implementation, the ISR may be implemented by the system designer or integrator (in the configuration-specific <span class="Element146">system_interrupt.c</span> file). Such &quot;static&quot; ISR implementations must identify the source of the interrupt then directly call the appropriate module's Tasks routine. This requires knowledge of the modules that have been included in the system and cannot be implemented in advance as a library. </p><div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table0">
<tr>
<td class="Element67" valign="top" width="10%" style="border:none;">
<div class="Element68">
<img src="Note Icon.png" border="0" alt="" title=""> <strong>Note:</strong>&nbsp;</div></td><td class="Element67" valign="top" width="90%" style="border:none;">
<div class="Element68">
It is also possible, in a highly optimized system (or to support highly resource-restricted parts), to implement the logic of the module's Tasks routine directly in the raw ISR. However, this method is not recommended unless absolutely necessary to meet system timing requirements.&nbsp;</div></td></tr></table></div></div>
<p class="Element10">
<strong>Board Support Packages (BSPs)</strong>&nbsp;</p>
<p class="Element10">
If the processor is affixed directly to the board, the BSP may also implement any required &quot;raw&quot; ISRs, eliminating the need for the system designer or integrator to implement the ISR(s) himself. Refer to the documentation for the BSP in use for details on what initialization and ISR support it provides. This support is not implemented by the Interrupt System Services library.</p></div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="24419.html">System Service Libraries Help</a> &gt; <a href="14396.html">Interrupt System Service Library</a> &gt; <a href="24333.html">Using the Library</a> &gt; <a href="24328.html">Abstraction Model</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: SYSTEM INT Library Abstraction Model Topic Title: Abstraction Model)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>