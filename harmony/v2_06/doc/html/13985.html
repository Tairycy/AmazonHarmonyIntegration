<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Input System Service Touch ADC Driver Library</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="13069.html">Driver Libraries Help</a> &gt; <a href="13984.html">Input System Service Touch Driver Library</a> &gt; <a href="13985.html">Input System Service Touch ADC Driver Library</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="13984.html">Previous</a> | <a href="13984.html">Up</a> | <a href="13986.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: Input_sys_serve_lib_adc Topic Title: Input System Service Touch ADC Driver Library)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
Input System Service Touch ADC Driver Library</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
This touch driver library establishes a software resistive touch controller using the Analog-to-Digital Converter (ADC) module. This driver provides application routines to read touch input data from the touch screen. Touch events are detected using an interrupt service routine rather than polling. This driver also allows provides the capability to set translation coefficients that allow an application to map a raw screen values to actual native display size using through 4-point calibration technique.</p><div class="Element15">
Using the Library</div>
<p class="Element10">
This topic describes the basic architecture of the Touch ADC Driver Library for the Input System Service and provides information and examples on its use.&nbsp;</p>
<p class="Element10">
Interface Header File:&nbsp;</p>
<p class="Element10">
<span class="Element146">&lt;project&gt;/firmware/src/system_config/&lt;target_config&gt;/driver/input/touch_adc/<a href="11316.html">drv_touch_adc.h</a></span>&nbsp;</p>
<p class="Element10">
The interface to the Touch ADC Driver library is defined in the <a href="11316.html">drv_touch_adc.h</a> header file related to the currently active project target configuration. This file is automatically generated by MHGC. Any C language source (<span class="Element146">.c</span>) file that uses the ADC Touch Driver library should include this header.&nbsp;</p>
<p class="Element10">
Please refer to the <a href="04298.html">What is MPLAB Harmony?</a> section for how the driver interacts with the framework.</p></div>
</div>
<a name="546F70696373"></a><div class="Element14">
Topics</div>
<div class="Element11">
<div class="Element10">
<div class="Element212">
<div class="TableDiv">
<table cellspacing="0" class="Table1">
<tr>
<td class="Element200" valign="top" width="35%">
<div class="Element201">
Name&nbsp;</div></td><td class="Element204" valign="top" width="65%">
<div class="Element205">
Description&nbsp;</div></td></tr><tr>
<td class="Element202" valign="top" width="35%">
<div class="Element203">
<a href="13986.html">Abstraction Model</a>&nbsp;</div></td><td class="Element206" valign="top" width="65%">
<div class="Element207">
This topic describes the components of the Touch ADC solution in support of the Input System Service.
<ul class="Element635">
<li class="Element605">Touch ADC Driver – Finite-State machine that biases the x-axis and y-axis analog pins to measure resistance on a touch screen. Identifies touch events up, down or move. Forwards events to Harmony Service, Input System.</li>
<li class="Element605">ADC Driver – Provides the 4-wire resistive touch interface. It is used to driver hardware pin configuration to sample and measure touch screen resistance.</li>
<li class="Element605">Input system Service – Client level service which makes available touch events to the graphics library.</li>
</ul></p><p class="Element207" style="text-align: center;">
<strong>Touch ADC Driver Abstraction Model.</strong><br><img src="touch ADC driver abstraction model.png" border="0" alt="" title=""></p><p class="Element207">
&nbsp;</div></td></tr><tr>
<td class="Element202" valign="top" width="35%">
<div class="Element203">
<a href="13991.html">Library Overview</a>&nbsp;</div></td><td class="Element206" valign="top" width="65%">
<div class="Element207">
Refer to the <a href="08264.html">Driver Library Overview</a> section for information on how the driver operates in a system.<br>The library interface routines are divided into various sub-sections, which address one of the blocks or the overall operation of the Touch ADC Driver module. &nbsp;</div></td></tr><tr>
<td class="Element202" valign="top" width="35%">
<div class="Element203">
<a href="13992.html">How the Library Works</a>&nbsp;</div></td><td class="Element206" valign="top" width="65%">
<div class="Element207">
The library provides interfaces to support:
<ul class="Element635">
<li class="Element605">System functions, which provide system module interfaces, device initialization, deinitialization, open, close, and status functions.</li>
<li class="Element605">Timer – rate at which to detect a new position</li>
</ul><br>Of note are the following routine, which are found in:<br><span class="Element146">&lt;project&gt;/firmware/src/system_config/&lt;target_config&gt;/driver/input/touch_adc/src/drv_touch_adc.c</span>:
<ul class="Element635">
<li class="Element605"><span class="Element146">DRV_TOUCH_ADC_Tasks()</span> - sends a move, release, or press event to SYS_Input Services. It is called from <span class="Element146">system_tasks.c</span>.</li>
<li class="Element605"><span class="Element146">DRV_TOUCH_ADC_PositionDetect()</span> – performs resistance measurements to determine x and y positions.</li>
<li class="Element605"><span class="Element146">DRV_TOUCH_ADC_TouchGetX()</span> – returns the x coordinate.</li>
<li class="Element605"><span class="Element146">DRV_TOUCH_ADC_TouchGetY()</span> – returns the y coordinate.</li>
<li class="Element605"><span class="Element146">DRV_TOUCH_ADCCoefficientSet()</span> – stores 4-translation calibrate coefficients</li>
</ul>&nbsp;</div></td></tr><tr>
<td class="Element202" valign="top" width="35%">
<div class="Element203">
<a href="13988.html">Configuring the Library</a>&nbsp;</div></td><td class="Element206" valign="top" width="65%">
<div class="Element207">
The configuration of the Touch ADC Driver is performed using the MPLAB Harmony Configurator.&nbsp;</div></td></tr><tr>
<td class="Element202" valign="top" width="35%">
<div class="Element203">
<a href="13987.html">Building the Library</a>&nbsp;</div></td><td class="Element206" valign="top" width="65%">
<div class="Element207">
The section lists the files that are available in the Touch ADC Library.&nbsp;</div></td></tr><tr>
<td class="Element202" valign="top" width="35%">
<div class="Element203">
<a href="13989.html">Library Interface</a>&nbsp;</div></td><td class="Element206" valign="top" width="65%">
<div class="Element207">
 &nbsp;</div></td></tr></table></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="13069.html">Driver Libraries Help</a> &gt; <a href="13984.html">Input System Service Touch Driver Library</a> &gt; <a href="13985.html">Input System Service Touch ADC Driver Library</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: Input_sys_serve_lib_adc Topic Title: Input System Service Touch ADC Driver Library)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>