<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Opening the USART Driver</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="13069.html">Driver Libraries Help</a> &gt; <a href="27174.html">USART Driver Library</a> &gt; <a href="08909.html">Using the Library</a> &gt; <a href="08902.html">How the Library Works</a> &gt; <a href="08907.html">Opening the USART Driver</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="08903.html">Previous</a> | <a href="08902.html">Up</a> | <a href="08893.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: DRV USART Opening the USART Driver Topic Title: Opening the USART Driver)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
Opening the USART Driver</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
To use the USART driver, the application must open the driver. This is done by calling the <a href="11502.html">DRV_USART_Open</a> function. Calling this function with DRV_IO_INTENT_NONBLOCKING will cause the driver to be opened in non blocking mode. The <a href="11506.html">DRV_USART_Read</a> and <a href="11520.html">DRV_USART_Write</a> functions when called by this client will be non blocking. . Calling this function with DRV_IO_INTENT_BLOCKING will cause the driver to be opened in blocking mode. The <a href="11506.html">DRV_USART_Read</a> and <a href="11520.html">DRV_USART_Write</a> functions when called by this client will be blocking.&nbsp;</p>
<p class="Element10">
If successful, the <a href="11502.html">DRV_USART_Open</a> function will return a valid handle to the driver. This handle records the association between the client and the driver instance that was opened. The <a href="11502.html">DRV_USART_Open</a> function may return <a href="10089.html">DRV_HANDLE_INVALID</a> in the situation where the driver is not ready to be opened. When this occurs, the application can try opening the driver again. Note that the open function may return an invalid handle in other (error) cases as well.&nbsp;</p>
<p class="Element10">
The following code shows an example of the driver being opened in different modes. </p><div class="Element170">
<a href="#" onclick="CopyElementToClipboard('code01183');">Copy Code</a></div>
<div class="Element13"><div class="Element12" id="code01183"><pre class="Element12">DRV_HANDLE usartHandle1, usartHandle2;

<i><span style="color: #008000">/* Client 1 opens the USART driver in non blocking mode */</span></i>
usartHandle1 = DRV_USART_Open(DRV_USART_0, DRV_IO_INTENT_READWRITE|DRV_IO_INTENT_NONBLOCKING);

<i><span style="color: #008000">/* Check if the handle is valid */</span></i>
<strong><span style="color: #000080">if</span></strong>(DRV_HANDLE_INVALID == usartHandle1)
{
    <i><span style="color: #008000">/* The driver was not opened successfully. The client
     * can try opening it again */</span></i>
}

<i><span style="color: #008000">/* Client 2 opens the USART driver in blocking mode */</span></i>
usartHandle2 = DRV_USART_Open(DRV_USART_0, DRV_IO_INTENT_READWRITE|DRV_IO_INTENT_BLOCKING);

<i><span style="color: #008000">/* Check if the handle is valid */</span></i>
<strong><span style="color: #000080">if</span></strong>(DRV_HANDLE_INVALID == usartHandle2)
{
    <i><span style="color: #008000">/* The driver was not opened successfully. The client
     * can try opening it again */</span></i>
}

<i><span style="color: #008000">/* The client can also open the USART driver in read only mode
 * (DRV_IO_INTENT_READ), write only mode (DRV_IO_INTENT_WRITE)
 * and exclusive mode (DRV_IO_INTENT_EXCLUSIVE). If the driver
 * has been opened exclusively by a client, it cannot be opened
 * again by another client */</span></i></pre></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="13069.html">Driver Libraries Help</a> &gt; <a href="27174.html">USART Driver Library</a> &gt; <a href="08909.html">Using the Library</a> &gt; <a href="08902.html">How the Library Works</a> &gt; <a href="08907.html">Opening the USART Driver</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: DRV USART Opening the USART Driver Topic Title: Opening the USART Driver)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>