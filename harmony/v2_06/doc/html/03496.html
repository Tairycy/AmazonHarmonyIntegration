<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Running the Demonstration</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="04300.html">Volume I: Getting Started With MPLAB Harmony Libraries and Applications</a> &gt; <a href="03342.html">Applications Help</a> &gt; <a href="04877.html">Bootloader Demonstrations</a> &gt; <a href="03497.html">Demonstrations</a> &gt; <a href="03493.html">basic</a> &gt; <a href="03496.html">Running the Demonstration</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="03495.html">Previous</a> | <a href="03493.html">Up</a> | <a href="03499.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: APPS BOOTLOADER basic_run Topic Title: Running the Demonstration)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
Running the Demonstration</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
This demonstration requires a host application running on another computer, which will allow the UART, USB Device, and Ethernet UDP Bootloaders to communicate with it and to send commands and the new program to it. A host application is available at <a href="#" onclick="openExternalLink('http://ww1.microchip.com/downloads/en/DeviceDoc/UnifiedHost-0.1.8-dist.zip');"><img src="indicator_external_link.gif" border="0" alt="" title="">http://ww1.microchip.com/downloads/en/DeviceDoc/UnifiedHost-0.1.8-dist.zip</a>, which can be used on computers running Windows®, Linux, or macOS®. These instructions will use that application to run them.</p><div class="Element15">
Personal Computer-based Host Demonstration</div>
<p class="Element10">
Do the following when using the configurations:&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
<strong>Operation</strong>&nbsp;</p>
<p class="Element10">
The Bootloader is operated as follows:</p>
<ol class="Element630">
<li value="1" class="Element600">Select the configuration suitable for the target hardware.</li>
<li value="2" class="Element600">Compile and program the device.</li>
<li value="3" class="Element600">Press and hold SW1 on the starter kit to force Bootloader operation.</li>
<li value="4" class="Element600">LED1 will start blinking to indicate the Bootloader is operating. If a program had previously been programmed, it may be necessary to press and hold SW1 prior to applying power to the board or resetting the board.</li>
<li value="5" class="Element600">Open the Unified Bootloader Host application by starting the <span class="Element146">Unified Bootloader-x.y.z.jar</span> file.</li>
</ol><p class="Element10" style="text-align: center;">
<img src="BOOTLOADER Picture1.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>

<ol class="Element630">
<li value="6" class="Element600">Select <strong>32-bit</strong> for the Device Architecture.</li>
</ol><p class="Element10" style="text-align: center;">
<img src="BOOTLOADER Picture2.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>

<ol class="Element630">
<li value="7" class="Element600">Select the appropriate communication path using the Protocol drop-down. Then click <strong>Configure</strong> to change the options. For most Bootloaders, these are the options to use:
<ul class="Element631">
<li class="Element601">UART - Set the baud rate to 115,200</li>
<li class="Element601">UDP - Set the IP address at 192.168.1.11 and the UDP port at 6234</li>
<li class="Element601">Set the IP address for your host PC to 192.168.1.12 with default subnet mask</li>
<li class="Element601">USB Device - Set the VID at 0x4D8 and the PID at 0x03C</li>
</ul></li>
</ol><p class="Element10" style="text-align: center;">
<img src="BOOTLOADER Picture3.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>

<ol class="Element630">
<li value="8" class="Element600">Select <i>File &gt;Open/Load File</i> (<span class="Element146">*.hex</span>), and navigate to the desired Hex file for the application to be bootloaded. Select the file, and click <strong>Open</strong>.</li>
<li value="9" class="Element600">Click <strong>Program Device</strong>. The program combines the steps of identifying the Bootloader, erasing the device, sending down the new program, verifying the application, and starting the new program. The application will display the message &quot;Disconnected after Programming was Successful&quot; to indicate the programming was complete.</li>
</ol><p class="Element10" style="text-align: center;">
<img src="BOOTLOADER Picture4.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>

<ol class="Element630">
<li value="10" class="Element600">If desired, a Console window is available by selecting <i>Tools &gt;Console</i>. The console will display messages showing the progress of the bootloading process.</li>
</ol><p class="Element10" style="text-align: center;">
<img src="BOOTLOADER Picture5.png" border="0" alt="" title=""></p>
<ol class="Element630">
<li value="11" class="Element600">If the application has been programmed correctly, the green, yellow, and red LEDs will blink in an alternating pattern..</li>
</ol><p class="Element10">
&nbsp;</p>
<div class="Element15">
USB Host-based Demonstration</div>
<p class="Element10">
Do the following when using the configurations:&nbsp;</p>
<p class="Element10">
<strong>Operation</strong>&nbsp;</p>
<p class="Element10">
The Bootloader is operated as follows:</p>
<ol class="Element630">
<li value="1" class="Element600">Select the configuration suitable for the target hardware.</li>
<li value="2" class="Element600">Compile and program the device.</li>
<li value="3" class="Element600">If a program had previously been programmed in the application space, press and hold the applicable switch for the hardware in use prior to applying power to the board or resetting the board or resetting the board to force into Booloader operation:
<ul class="Element631">
<li class="Element601">For PIC32M-based hardware, press and hold SWITCH_1</li>
</ul></li>
<li value="4" class="Element600">Depending on the hardware in use, an LED will blink to indicate the Bootloader mode:
<ul class="Element631">
<li class="Element601">For PIC32M-based hardware, LED_1</li>
</ul></li>
</ol><p class="Element10">
&nbsp;</p>
<p class="Element10">
<strong>Setup</strong>&nbsp;</p>
<p class="Element10">
The demonstration application is prepared as follows:</p>
<ol class="Element630">
<li value="1" class="Element600">Open the demonstration application to be Bootloaded for the hardware in use:
<ul class="Element631">
<li class="Element601">For PIC32M-based hardware, <span class="Element146">dma_led_pattern.X</span> project from <span class="Element146">&lt;install-dir&gt;/apps/examples/peripheral/dma/dma_led_pattern/firmware/</span></li>
</ul></li>
<li value="2" class="Element600">Select the configuration suitable for the target hardware.</li>
<li value="3" class="Element600">Compile the program, but do not program the device.</li>
<li value="4" class="Element600">Copy the resultant <span class="Element146">.hex</span> file to the Flash drive that will be inserted into the target USB port. The files are located in the paths mentioned in Step 1.</li>
<li value="5" class="Element600">Rename the hex file on the Flash drive to <span class="Element146">image.hex</span>.</li>
</ol><p class="Element10">
&nbsp;</p>
<p class="Element10">
<strong>Programming the Device</strong>&nbsp;</p>
<p class="Element10">
With the demonstration application compiled, the generated hex file can now be programmed into the device using the Bootloader.&nbsp;</p>
<p class="Element10">
To program the application into the device:</p>
<ol class="Element630">
<li value="1" class="Element600">Insert the Flash drive into the type-A USB port on the starter kit.</li>
<li value="2" class="Element600">The program will be loaded from the Flash drive and programmed into the device.</li>
<li value="3" class="Element600">Remove the Flash drive when the program starts running.</li>
</ol><p class="Element10">
&nbsp;</p>
<div class="Element15">
SD Card-based Demonstration</div>
<p class="Element10">
Do the following when using this configuration:&nbsp;</p>
<p class="Element10">
<strong>Operation</strong>&nbsp;</p>
<p class="Element10">
The Bootloader is operated as follows:</p>
<ol class="Element630">
<li value="1" class="Element600">Select the configuration suitable for the target hardware.</li>
<li value="2" class="Element600">Compile and program the device.</li>
<li value="3" class="Element600">If a program had previously been programmed in the application space, press and hold the applicable switch for the hardware in use prior to applying power to the board or resetting the board or resetting the board to force into Bootloader operation:
<ul class="Element631">
<li class="Element601">For PIC32M-based hardware, press and hold SWITCH_1</li>
</ul></li>
<li value="4" class="Element600">Depending on the hardware in use, an LED will blink to indicate the Bootloader mode:
<ul class="Element631">
<li class="Element601">For PIC32M-based hardware, LED_1</li>
</ul></li>
</ol><p class="Element10">
&nbsp;</p>
<p class="Element10">
<strong>Setup</strong>&nbsp;</p>
<p class="Element10">
The demonstration application is prepared as follows:</p>
<ol class="Element630">
<li value="1" class="Element600">Open the demonstration application to be Bootloaded for the hardware in use:
<ul class="Element631">
<li class="Element601">For PIC32M-based hardware, <span class="Element146">dma_led_pattern.X project from &lt;install-dir&gt;/apps/examples/peripheral/dma/dma_led_pattern/firmware/</span></li>
</ul></li>
<li value="2" class="Element600">Select the configuration suitable for the target hardware.</li>
<li value="3" class="Element600">Compile the program, but do not program the device.</li>
<li value="4" class="Element600">Copy the resultant .hex file to the Flash drive that will be inserted into the target USB port. The files are located in the paths mentioned in Step 1.</li>
<li value="5" class="Element600">Rename the hex file on the SD Card drive to <span class="Element146">image.hex</span>.</li>
</ol><p class="Element10">
&nbsp;</p>
<p class="Element10">
<strong>Programming the Device</strong></p>
<ol class="Element630">
<li value="1" class="Element600">To program the application into the device:
<ul class="Element631">
<li class="Element601">For PIC32M-based hardware, insert the SD Card into the slot on the MEB II. Connect the starter kit to the MEB II.</li>
</ul></li>
<li value="2" class="Element600">When power is applied, or the device is Reset, the <span class="Element146">image.hex</span> file is read from the SD Card and programmed into the device.</li>
</ol></div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="04300.html">Volume I: Getting Started With MPLAB Harmony Libraries and Applications</a> &gt; <a href="03342.html">Applications Help</a> &gt; <a href="04877.html">Bootloader Demonstrations</a> &gt; <a href="03497.html">Demonstrations</a> &gt; <a href="03493.html">basic</a> &gt; <a href="03496.html">Running the Demonstration</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: APPS BOOTLOADER basic_run Topic Title: Running the Demonstration)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>