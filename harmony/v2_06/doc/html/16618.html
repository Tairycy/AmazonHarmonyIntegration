<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>MPLAB Harmony Configurator Plug-ins</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="16809.html">Volume III: MPLAB Harmony Configurator (MHC)</a> &gt; <a href="07406.html">MPLAB Harmony Configurator Developer's Guide</a> &gt; <a href="16618.html">MPLAB Harmony Configurator Plug-ins</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="07408.html">Previous</a> | <a href="07406.html">Up</a> | <a href="16620.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: MHC DEV GUIDE MPLAB Harmony Configurator Plug-ins Topic Title: MPLAB Harmony Configurator Plug-ins)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
MPLAB Harmony Configurator Plug-ins</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
MPLAB Harmony Configurator provides a plug-in interface into the clock screen system.</p><div class="Element15">
System Requirements</div>
<p class="Element10">
The system requirements for a MPLAB Harmony Configurator clock screen plug-in are:</p>
<ul class="Element630">
<li class="Element600">NetBeans v8.0 or later</li>
<li class="Element600">Java 7</li>
<li class="Element600">MPLAB X IDE v3.06 or later</li>
<li class="Element600">MPLAB Harmony Configurator v1.06 or later</li>
<li class="Element600">A Java JAR file containing a class that inherits from the abstract class “com.microchip.mplab.modules.mhc.clock.ClockModel”.</li>
</ul><div class="Element15">
NetBeans Project Setup</div>
<p class="Element10">
<i>Java Dependencies</i>&nbsp;</p>
<p class="Element10">
Your project will have a dependency on the library <span class="Element146">com.microchip.mplab.modules.mhc.jar</span>. Once MPLAB X IDE and the MPLAB Harmony Configurator have been installed, this file can be found in the following Windows location: <span class="Element146">C:\Users\($YOUR_USER_NAME)\AppData\Roaming\mplab_ide\dev\($MPLABX_VERSION)\modules</span>.&nbsp;</p>
<p class="Element10">
Please reference the example clock screen plug-in project for more detailed programming interface information.&nbsp;</p>
<p class="Element10">
The project can be found in the MPLAB Harmony framework within the <span class="Element146">&lt;install-dir&gt;\utilities\mhc\plugins\clock\</span>plugin_example folder.</p><div class="Element15">
Plug-in Installation:</div>
<p class="Element10">
There are two steps required to install your plug-in into MHC.</p>
<ol class="Element630">
<li value="1" class="Element600"><i>Plug-in file</i>. NetBeans will produce a JAR file of your plug-in. This file must be copied to the MPLAB Harmony framework folder: <span class="Element146">&lt;install-dir&gt;\utilities\mhc\plugins\clock</span>.</li>
<li value="2" class="Element600"><i>HConfig</i> - MPLAB Harmony Configurator relies on the HConfig tree to tell it which clock plug-in file to load. Often this is processor-specific. To get your plug-in loaded, you must edit the MPLAB Harmony framework file: <span class="Element146">&lt;install-dir&gt;\framework\config\framework.hconfig</span>.
<ul class="Element631">
<li class="Element601">The string symbol <span class="Element146">SYS_CLK_MANAGER_PLUGIN_SELECT</span> must be defined. This symbol value must have the following format: <span class="Element146">($JAR_FILE_NAME):($CLOCK_MODEL_CLASS)</span>, where:
<ul class="Element632">
<li class="Element602"><span class="Element146">($JAR_FILE_NAME)</span> - the name of your plug-in JAR file without the <span class="Element146">.jar</span> file extension</li>
<li class="Element602"><span class="Element146">($CLOCK_MODEL_CLASS)</span> - the name of the class in your plug-in that inherits from the ClockModel base class</li>
</ul></li>
<li class="Element601">For example, to load the MX1 clock screen the symbol would be set to: <span class="Element146">mx1:MX1ClockModel</span></li>
</ul></li>
</ol><p class="Element10">
Once these two items are complete, MHC will attempt to load your clock plug-in at start-up. If loading fails, an exception and stack trace will be printed.</p><div class="Element15">
Debugging Plug-ins</div>
<p class="Element10">
<strong>MPLAB X IDE Configuration</strong>&nbsp;</p>
<p class="Element10">
MPLAB X IDE can be configured to allow NetBeans to debug MPLAB Harmony Configurator plug-ins, as follows:</p>
<ol class="Element630">
<li value="1" class="Element600">Open the following file in a text editor: <span class="Element146">($MPLABX_ INSTALLATION_PATH)/($MPLABX_VERSION)/etc/mplab_ide.conf</span>.</li>
<li value="2" class="Element600">Locate the configuration entry <span class="Element146">default_options</span>. Add the following text to the line (without a line break):</li>
</ol><p class="Element10">
<span class="Element146">-J-Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5858</span>&nbsp;</p>
<p class="Element10">
This instructs MPLAB X IDE to allow debugging over the socket 5858.&nbsp;</p>
<p class="Element10">
<strong>NetBeans Configuration</strong>&nbsp;</p>
<ol class="Element630">
<li value="1" class="Element600">To attach to MPLAB X IDE, right-click the Debug Project drop-down menu and select <strong>Attach Debugger</strong>.</li>
</ol><p class="Element10" style="text-align: center;">
<img src="MHC DEV GUIDE NetBeans Config.png" border="0" alt="" title=""></p>
<ol class="Element630">
<li value="2" class="Element600">Configure the Attach dialog, as shown in the following figure.</li>
</ol><p class="Element10" style="text-align: center;">
<img src="MHC DEV GUIDE NetBeans Attach Dialog.png" border="0" alt="" title=""></p>
<ol class="Element630">
<li value="3" class="Element600">If MPLAB X IDE is running and you configured everything properly, the message “User program running” should appear in the lower-left corner of NetBeans.</li>
</ol><p class="Element10" style="text-align: center;">
<img src="MHC DEV GUIDE NetBeans Program Running.png" border="0" alt="" title=""></p><p class="Element10">
You can now set breakpoints in your plug-in code and debug as normal. If you receive the message <i>Connection Refused</i>, this indicates that something has been misconfigured.</p></div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="16809.html">Volume III: MPLAB Harmony Configurator (MHC)</a> &gt; <a href="07406.html">MPLAB Harmony Configurator Developer's Guide</a> &gt; <a href="16618.html">MPLAB Harmony Configurator Plug-ins</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: MHC DEV GUIDE MPLAB Harmony Configurator Plug-ins Topic Title: MPLAB Harmony Configurator Plug-ins)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>