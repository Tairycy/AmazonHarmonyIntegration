<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Introduction</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="17367.html">Peripheral Libraries Help</a> &gt; <a href="17368.html">Peripheral Library Overview</a> &gt; <a href="17856.html">Introduction</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="17368.html">Previous</a> | <a href="17368.html">Up</a> | <a href="17855.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: PLIB OVERVIEW Introduction Topic Title: Introduction)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
Introduction</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<div class="Element15">
Supported PIC32 Devices and Release Type</div>
<p class="Element10">
&nbsp;</p>
<div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table0">
<tr>
<td class="Element67" valign="top" width="10%" style="border:none;">
<div class="Element68">
<img src="Note Icon.png" border="0" alt="" title=""><strong> Note:</strong>&nbsp;</div></td><td class="Element67" valign="top" width="90%" style="border:none;">
<div class="Element68">
Refer to the <i>Release Contents &gt; Peripheral Libraries</i> section in the MPLAB Harmony Release Notes for the list of supported PIC32 devices and their release type. A PDF copy of the release notes is provided in the <span class="Element146">&lt;install-dir&gt;/doc</span> folder of your installation.&nbsp;</div></td></tr></table></div></div>
<p class="Element10">
MPLAB Harmony peripheral libraries (PLIBs) model the hardware peripheral modules available on Microchip microcontrollers by breaking each peripheral down into a set of individual features. For example, a (simplified) UART peripheral module may have three features, as shown in the following diagram. </p><p class="Element10" style="text-align: center;">
<img src="PLIB COMMON UART features.png" border="0" alt="" title=""></p><p class="Element10">
Every feature of a peripheral will have one or more primitive operations that can be performed using that feature. These operations are named in a way that identifies the module, feature, and operation and the fact that they are Peripheral Library functions, as shown in the following figure. </p><p class="Element10" style="text-align: center;">
<img src="PLIB COMMON operations.png" border="0" alt="" title=""></p><p class="Element10">
The simplified UART peripheral example has a &quot;baud rate&quot; feature. That feature may have two operations that it can perform. One operation might be a &quot;set&quot; function to set the current baud rate at which the UART will send and receive data and the other might be a &quot;get&quot; operation to find out the baud rate at which the UART is currently transmitting and receiving. Example C-language function signatures of these operations is as follows: </p><div class="Element170">
<a href="#" onclick="CopyElementToClipboard('code01403');">Copy Code</a></div>
<div class="Element13"><div class="Element12" id="code01403"><pre class="Element12"><strong><span style="color: #000080">void</span></strong>    PLIB_USART_BaudRateSet( USART_MODULE_ID index, uint32_t clockFrequency,
                                uint32_t baudRate );

uint32_t    PLIB_USART_BaudRateGet( USART_MODULE_ID index, int32_t clockFrequency );</pre></div></div>
<p class="Element10">
Notice that each function accepts an &quot;index&quot; parameter, as well as data parameters relevant to the operation itself, such as the input clock frequency and desired baud rate. The &quot;index&quot; parameter allows one set of PLIB functions to support any number of instances of the peripheral on a give microcontroller. Thus, each peripheral library exposes all of the features available on all instances of a given type of peripheral.&nbsp;</p>
<p class="Element10">
The function signature (name, parameters, and return value) for the operations supported by that feature will be the same on all microcontrollers even if the implementations of those functions are different from one microcontroller to another. These are known as &quot;implementation variants&quot;. As illustrated in the following diagram, a PLIB implementation is made up of the complete set of default and variant implementations of the operations of every feature supported by a specific type of peripheral on a specific microcontroller. </p><p class="Element10" style="text-align: center;">
<img src="PLIB COMMON implementation.png" border="0" alt="" title=""></p><p class="Element10">
Using this method, MPLAB Harmony Peripheral Libraries provide consistent C-language functional interfaces to access the peripherals available on all supported microcontrollers.&nbsp;</p>
<p class="Element10">
However, if a feature is not supported on all instances of the peripheral on all supported microcontrollers, the peripheral library communicates this to the developer in one of two ways. If a feature is not supported by any instance of the peripheral on a given microcontroller, the primitive functions related to that feature will also be unsupported and they will cause build warnings indicating this if they are called. If a feature is supported on at least one, but not on all of the available instances of a the peripheral on the microcontroller in use, the functions will be supported; however, they will provide a run-time error to facilitate debugging. Which features are supported on each instance of each microcontroller is documented in the help material for each peripheral library.&nbsp;</p>
<p class="Element10">
Peripheral libraries are primarily implemented as C-language &quot;inline&quot; functions. This allows the implementation of each function to be selected at build time, based upon the processor selection. To facilitate this, MPLAB Harmony peripheral libraries are implemented in layers of C-language header (<span class="Element146">.h</span>) files, as shown in the following diagram. </p><p class="Element10" style="text-align: center;">
<img src="PLIB COMMON header file layers.png" border="0" alt="" title=""></p><p class="Element10">
For a given peripheral, &quot;Interface Header&quot; defines set of functions and data types (although, potentially not all of the data types, as discussed in a following section) that make up the interface to that peripheral library. To select the correct implementation for each processor, a &quot;Peripheral Processor Selector Header&quot; includes only the appropriate &quot;Peripheral Processor Header&quot; for the selected processor. This header then acts as a &quot;mapping&quot; header that translates the interface functions defined in the interface header to the correct implementation variant template for each function in the &quot;Template Implementation&quot; files.&nbsp;</p>
<p class="Element10">
This may seem a little confusing at first, but since all functions are implemented in header files as &quot;inline&quot; functions, the compiler can perform all of the mapping at build time, resulting in very small static implementations when static data is passed to the PLIB functions.&nbsp;</p>
<p class="Element10">
One more key concept is that, although peripheral libraries do provide a level of abstraction, they are still very low level. PLIBs combine accesses to multiple registers to implement a single operation when possible. They hiding register details from the caller and provide a consistent &quot;functional&quot; interface to a peripheral that hides differences in implementation variants. But, PLIBs do not manage the state of the peripheral to keep it running and they do not control access to the peripheral to prevent conflicts between different clients. Those jobs belong to the device drivers.&nbsp;</p>
<p class="Element10">
Fundamentally, peripheral libraries are peripheral access libraries. PLIB function calls do not block or call anything outside of the PLIB itself (with the exception of some removable debugging support). A PLIB function does not maintain any state data (outside of the data stored in hardware registers) as it may be called from within the main line of execution, from within an RTOS thread, or from within an ISR. And, PLIB functions are normally generated as &quot;PLIB_INLINE&quot;, not as actual function calls (although optimized, prebuilt PLIB libraries are provided to support those times when the compiler does not generate the function &quot;PLIB_INLINE&quot;). A PLIB simply provides the ability to directly access and manipulate the features of a given peripheral using primitive operations. It is the responsibility of the calling module (usually the device driver) to store and appropriately protect any state data necessary to keep the peripheral running.&nbsp;</p>
<p class="Element10">
So, while an application (or any other<span style="color: #FFFFFF">_</span>layer) may directly access the PLIB for any particular peripheral in the system, if it does, it must be the only module in the system that does this and it then becomes responsible for the correct operation that peripheral instance in that system. That is why PLIBs are not normally the recommended way to access peripherals. It is usually better to access a peripheral through a driver or system service that manages the state machine of the peripheral and protects the peripheral so that accesses to it from multiple clients will not interfere with the correct operation of the peripheral.</p></div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="17367.html">Peripheral Libraries Help</a> &gt; <a href="17368.html">Peripheral Library Overview</a> &gt; <a href="17856.html">Introduction</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: PLIB OVERVIEW Introduction Topic Title: Introduction)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>