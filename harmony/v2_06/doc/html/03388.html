<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Running the Demonstration</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="04300.html">Volume I: Getting Started With MPLAB Harmony Libraries and Applications</a> &gt; <a href="03342.html">Applications Help</a> &gt; <a href="04317.html">Audio Demonstrations</a> &gt; <a href="03389.html">Demonstrations</a> &gt; <a href="03385.html">audio_tone</a> &gt; <a href="03388.html">Running the Demonstration</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="03387.html">Previous</a> | <a href="03385.html">Up</a> | <a href="03390.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: APPS AUDIO audio_tone_run Topic Title: Running the Demonstration)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
Running the Demonstration</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
<a href="04979.html">PIC32 Bluetooth Audio Development Kit</a> configurations:&nbsp;</p>
<p class="Element10">
Both continuous sine tones and finite length sine tones and chirps can be generated. <strong>Table 1</strong> provides a summary of the button actions that can used to control the audio output waveform characteristics.&nbsp;</p>
<p class="Element10">
Compile and program the target device. While compiling, select the appropriate MPLAB X IDE project configuration based on the demonstration board. Refer to <a href="03386.html">Building the Application</a> for details.</p>
<ol class="Element630">
<li value="1" class="Element600">Connect headphones to the line-out connector of the Audio DAC/Codec Daughter Board (see <strong>Figure 1</strong>).</li>
<li value="2" class="Element600">The tone can be quite loud, especially when using a pair of headphones. Before running the demonstration, turn the volume control, P2, which is located on the development board underneath the codec daughter board, all the way clockwise, and then turn it counterclockwise until the tone can be heard clearly.</li>
<li value="3" class="Element600">Initially, the tone is disabled and the screen will appear, as shown in the following figure.</li>
</ol><p class="Element10" style="text-align: center;">
<img src="APPS AUDIO audio_tone Demo Screen 1.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>

<ol class="Element630">
<li value="4" class="Element600">SW4 will turn the audio on or off, as indicated by the audible output and the two illuminated green LEDs on the Audio DAC Daughter Board (if being used) along with the speaker icon on the screen, which changes, as shown in the following figure.</li>
</ol><p class="Element10" style="text-align: center;">
<img src="APPS AUDIO audio_tone Demo Screen 2.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>

<ol class="Element630">
<li value="5" class="Element600">Modifiable parameters are selected by pressing SW3, which cycles through the parameters: &quot;f1 (Hz)&quot;, f2 (Hz), and &quot;t (ms)&quot;. Initially, the &quot;f1 (Hz)&quot; parameter is selected (initially, it is 1000 Hz). The value of any selected parameter can be changed by using SW1/SW2 to raise or lower the value, respectively. The &quot;f2 (Hz)&quot; parameter, is the chirp final frequency. The &quot;t (ms)&quot; parameter is the duration of the signal in milliseconds. Note that as SW3 is pressed, the LEDs D5, D6, and D7 illuminate to indicate the mode f1, f2, or t;, the demonstration is advancing to the next parameter, and then wraps around.</li>
</ol><div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table0">
<tr>
<td class="Element67" valign="top" width="10%" style="border:none;">
<div class="Element68">
<img src="Note Icon.png" border="0" alt="" title=""> <strong>Note:</strong>&nbsp;</div></td><td class="Element67" valign="top" width="90%" style="border:none;">
<div class="Element68">
A long press (5 seconds) of SW3 will set the selected parameter value to its maximum allowable value. A long press of SW5 will set the minimum value.&nbsp;</div></td></tr></table></div></div>

<ol class="Element630">
<li value="6" class="Element600">The Sine Tone or Chirp modes are selected by pressing SW5. Chirp mode is indicated by LED D8 being illuminated and the display changing from &quot;Sine&quot; to &quot;Chirp&quot;. The output automatically turns off when a new mode is selected. Pressing SW4 initiates the audible output based on the current settings of the parameters.</li>
</ol><div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table0">
<tr>
<td class="Element67" valign="top" width="10%" style="border:none;">
<div class="Element68">
<img src="Note Icon.png" border="0" alt="" title=""> <strong>Notes:</strong>&nbsp;</div></td><td class="Element67" valign="top" width="90%" style="border:none;">
<div class="Element68">
</p>
<ol class="Element630">
<li value="1" class="Element600">When the &quot;t (ms)&quot; parameter is disabled, a continuous sine tone is generated at the &quot;f1 (Hz)&quot; frequency for either mode. Incrementing the value by pressing SW1 will initiate finite length chirps or sine tones starting from 0 and increasing by 10 ms steps for each increment/decrement. A non-zero t value is indicated by LED D9 being illuminated.</li>
<li value="2" class="Element600">Long presses of SW1/SW2 will accelerate the incrementing/decrementing of the selected value.</li>
</ol><p class="Element68">
&nbsp;</div></td></tr></table></div></div>

<ol class="Element630">
<li value="7" class="Element600">As an optional step, if there is interest and the necessary equipment, the displayed sampling frequency can be verified by probing the point &quot;LRCK Pin Point&quot; of the Audio DAC/Codec Daughter Board (PIC32 Bluetooth Audio Development Kit configurations using the AK4384), as shown in <strong>Figure 1</strong>.</li>
<li value="8" class="Element600">As an optional step, if there is interest and the necessary equipment, the signal frequency of the continuous Sine Tone output can be verified by probing the &quot;Line Out Point&quot; of the Audio DAC/Codec Daughter Board, as shown in <strong>Figure 1</strong>. Finite length sine tones and chirp parameters can also be verified by probing this point with a storage oscilloscope.</li>
</ol><div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table0">
<tr>
<td class="Element77" valign="top" width="100%" style="border:none;">
<div class="Element78">
<strong>Figure 1: Audio DAC Daughter Board on PIC32 Bluetooth Audio Development Kit</strong><br><img src="APPS CODEC AK4384 Audio DAC DB.png" border="0" alt="" title="">&nbsp;</div></td></tr></table></div></div>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table0">
<tr>
<td class="Element77" valign="top" width="100%" style="border:none;">
<div class="Element78">
<strong>Figure 2: Audio Tone Graphics Display</strong><br><img src="APPS AUDIO audio_tone Graphics Display.png" border="0" alt="" title="">&nbsp;</div></td></tr></table></div></div>
<div class="Element15">
Control Descriptions</div>
<p class="Element10">
<strong>Table 1: Button Controls for Bluetooth Audio Development Kit</strong> </p><div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table2">
<tr>
<td class="Element65" valign="top" width="7%">
<div class="Element66">
Control&nbsp;</div></td><td class="Element65" valign="top" width="93%">
<div class="Element66">
Description&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="7%">
<div class="Element68">
SW1/SW2&nbsp;</div></td><td class="Element67" valign="top" width="93%">
<div class="Element68">
Parameter increment/decrement (long press - accelerates increment/decrement).&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="7%">
<div class="Element68">
SW3&nbsp;</div></td><td class="Element67" valign="top" width="93%">
<div class="Element68">
f1/f2/t parameter selection (long press - parameter maximum value).&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="7%">
<div class="Element68">
SW4&nbsp;</div></td><td class="Element67" valign="top" width="93%">
<div class="Element68">
Audio ON/OFF<br><strong>Note: </strong>Finite length waveforms will play, and then turn OFF.&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="7%">
<div class="Element68">
SW5&nbsp;</div></td><td class="Element67" valign="top" width="93%">
<div class="Element68">
Chirp/Sine mode selection (long press - parameter minimum value).&nbsp;</div></td></tr></table></div></div>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
Multimedia Expansion Board II configuration:&nbsp;</p>
<p class="Element10">
Both continuous sine tones and finite length sine tones and chirps can be generated. Table 3 provides a summary of the button actions that can used to control the audio output waveform characteristics.&nbsp;</p>
<p class="Element10">
Compile and program the target device. While compiling, select the appropriate MPLAB X IDE project configuration based on the&nbsp;</p>
<p class="Element10">
demonstration board. Refer to<a href="03386.html">Building the Application</a> for details.</p>
<ol class="Element630">
<li value="1" class="Element600">Connect headphones to the line-out connector of the MEB-II (see Figure 3).</li>
<li value="2" class="Element600">Initially, the tone is disabled and the screen will appear as shown in the following figure:</li>
</ol><p class="Element10" style="text-align: center;">
<img src="APPS AUDIO audio_tone MEB2 screen.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10">
3. Pressing the speaker icon will turn the audio on, as indicated by the audible output along with the speaker icon on the screen changing to a muted speaker (see below). Pressing the button again will turn off the audio. </p><p class="Element10" style="text-align: center;">
<img src="APPS AUDIO audio_tone MEBII muted.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10">
4. Modifiable parameters are selected by pressing the touch buttons + or - associated with each of the parameters: &quot;f1 (Hz)&quot;, f2 (Hz), &quot;t (ms)&quot;, and “Volume”.&nbsp;</p>
<p class="Element10">
5. Initially, the &quot;f1 (Hz)&quot; parameter is selected (default 1000 Hz). The &quot;f2 (Hz)&quot; parameter is the chirp final frequency. The &quot;t (ms)&quot; parameter is the duration of the audio signal (sine or chirp) in milliseconds.&nbsp;</p>
<p class="Element10">
6. The Sine Tone or Chirp modes are selected by pressing the Mode button on the lower-left corner of the screen. The text above it indicates the current mode. </p><div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table0">
<tr>
<td class="Element67" valign="top" width="10%" style="border:none;">
<div class="Element68">
<img src="Note Icon.png" border="0" alt="" title=""> <strong>Notes:</strong>&nbsp;</div></td><td class="Element67" valign="top" width="90%" style="border:none;">
<div class="Element68">
</p>
<ol class="Element630">
<li value="1" class="Element600">When the &quot;t (ms)&quot; parameter is disabled, a continuous sine tone is generated at the &quot;f1 (Hz)&quot; frequency for either mode. Incrementing the value by the + button will initiate finite length chirps or sine tones starting from 10 ms and increasing by 10 ms steps for each increment/decrement.</li>
<li value="2" class="Element600">Long presses of any of the + or - buttons will accelerate the incrementing/decrementing of the associated value.</li>
</ol><p class="Element68">
&nbsp;</div></td></tr></table></div></div>
<p class="Element10" style="text-align: center;">
<img src="APPS AUDIO audio_tone mebII_hpout.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<p class="Element10">
Curiosity PIC32MX470 Development Board configuration:&nbsp;</p>
<p class="Element10">
The following can be generated; continuous sine tones, finite length sine tones, and chirps. The table below provides a summary of the button actions that can used to control the audio output waveform characteristics.&nbsp;</p>
<p class="Element10">
Compile and program the target device. While compiling, select the appropriate MPLAB X IDE project configuration based on the demonstration board.&nbsp;</p>
<p class="Element10">
Refer to <a href="03386.html">Building the Application</a> for details.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<ol class="Element630">
<li value="1" class="Element600">Connect headphones to the headphone connector (HP <a href="17338.html">OUT</a>) of the Audio DAC/Codec Daughter Board (refer to the following figure).</li>
<li value="2" class="Element600">Initially, the tone is disabled and all LEDs are off.</li>
<li value="3" class="Element600">Pressing and releasing S1 button will turn the audio on or off, as indicated by the audible output and LED 1 (red) being illuminated.</li>
<li value="4" class="Element600">A long press (four seconds) and release of S1 will toggle the mode from a continuous sine tone to a two second chirp tone and back. Chirp mode is indicated by LED 2 (green) being illuminated.</li>
<li value="5" class="Element600">In chirp mode, pressing and releasing S1 will enable the chirp tone, which will go off automatically after the two second period.</li>
</ol><p class="Element10">
&nbsp;</p>
<div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table0">
<tr>
<td class="Element67" valign="top" width="10%" style="border:none;">
<div class="Element68">
<img src="Note Icon.png" border="0" alt="" title=""> <strong>Note:</strong>&nbsp;</div></td><td class="Element67" valign="top" width="90%" style="border:none;">
<div class="Element68">
Due to the lack of sufficient user buttons, the frequencies, duration and volume cannot be changed by the user interface as with the other configurations. The starting and ending frequencies can be modified by changing the fHz1 and fHz2 members of the agParamInit and guiDataInit structures in <span class="Element146">app.c</span>, and the duration can be modified by changing the FIXED_CHIRP_DURATION macro in <span class="Element146">app_config.h</span>. The volume can be configured using MHC.&nbsp;</div></td></tr></table></div></div>
<p class="Element10">
&nbsp;</p>
<p class="Element10" style="text-align: center;">
<img src="APPS AUDIO audio_tone Curiosity board.png" border="0" alt="" title="">&nbsp;</p>
<p class="Element10" style="text-align: center;">
&nbsp;</p>
<div class="Element15">
Control Descriptions</div>
<p class="Element10">
<strong>Button Controls for Curiosity Board</strong> </p><div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table2">
<tr>
<td class="Element65" valign="top" width="10%">
<div class="Element66">
Control&nbsp;</div></td><td class="Element65" valign="top" width="90%">
<div class="Element66">
Description&nbsp;</div></td></tr><tr>
<td class="Element67" valign="top" width="10%">
<div class="Element68">
S1&nbsp;</div></td><td class="Element67" valign="top" width="90%">
<div class="Element68">
Audio ON/OFF (long press – toggles between sine and chirp modes)&nbsp;</div></td></tr></table></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="04300.html">Volume I: Getting Started With MPLAB Harmony Libraries and Applications</a> &gt; <a href="03342.html">Applications Help</a> &gt; <a href="04317.html">Audio Demonstrations</a> &gt; <a href="03389.html">Demonstrations</a> &gt; <a href="03385.html">audio_tone</a> &gt; <a href="03388.html">Running the Demonstration</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: APPS AUDIO audio_tone_run Topic Title: Running the Demonstration)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>