<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>SYS_DMA_ChannelErrorGet Function</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="24419.html">System Service Libraries Help</a> &gt; <a href="07980.html">Direct Memory Access (DMA) System Service Library</a> &gt; <a href="24283.html">Library Interface</a> &gt; b) Channel Setup and Management Functions &gt; <a href="23725.html">SYS_DMA_ChannelErrorGet Function</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="23735.html">Previous</a> | <a href="24283.html">Up</a> | <a href="23736.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: SYS_DMA_ChannelErrorGet@SYS_DMA_CHANNEL_HANDLE Topic Title: SYS_DMA_ChannelErrorGet Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
SYS_DMA_ChannelErrorGet Function</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="43"></a><div class="Element99">
C</div>
<div class="Element101"><div class="Element100"><pre class="Element100">SYS_DMA_ERROR <strong><span style="color: #000000">SYS_DMA_ChannelErrorGet</span></strong>(
    SYS_DMA_CHANNEL_HANDLE <strong><span style="color: #000000">handle</span></strong>
);</pre></div></div>
<a name="4465736372697074696F6E"></a><div class="Element14">
Description</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
This function returns the error(if any) associated with the last client request. If the service send a SYS_DMA_TRANSFER_EVENT_ERROR to the client, the client can call this function to know the error cause. The error status will be updated on every operation and should be read frequently (ideally immediately after the service operation has completed) to know the relevant error status.</p></div>
</div>
<a name="507265636F6E646974696F6E73"></a><div class="Element14">
Preconditions</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
The <a href="23738.html">SYS_DMA_Initialize</a> routine must have been called for the DMA sub system. <a href="23719.html">SYS_DMA_ChannelAllocate</a> must have been called to obtain a valid opened channel handle.</p></div>
</div>
<a name="506172616D6574657273"></a><div class="Element14">
Parameters</div>
<div class="Element11">
<div class="Element10">
<div class="Element312">
<div class="TableDiv">
<table cellspacing="0" class="Table4">
<tr>
<td class="Element300" valign="top" width="35%">
<div class="Element301">
Parameters&nbsp;</div></td><td class="Element304" valign="top" width="65%">
<div class="Element305">
Description&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
handle&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
Handle of the DMA channel as returned by the <a href="23719.html">SYS_DMA_ChannelAllocate</a> function.&nbsp;</div></td></tr></table></div></div>
</div>
</div>
<a name="52657475726E73"></a><div class="Element14">
Returns</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
A SYS_DMA_ERROR type indicating last known error status.</p></div>
</div>
<a name="52656D61726B73"></a><div class="Element14">
Remarks</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
It is the client's responsibility to make sure that the error status is obtained frequently. The service will update the error status regardless of whether this has been examined by the client.</p></div>
</div>
<a name="4578616D706C65"></a><div class="Element14">
Example</div>
<div class="Element11">
<div class="Element10">
<div class="Element170">
<a href="#" onclick="CopyElementToClipboard('code03947');">Copy Code</a></div>
<div class="Element13"><div class="Element12" id="code03947"><pre class="Element12">
<i><span style="color: #008000">// 'handle' is a valid handle returned</span></i>
<i><span style="color: #008000">// by the SYS_DMA_ChannelAllocate function.</span></i>

<i><span style="color: #008000">// pDmaSrc, pDmaDst is the  source,destination address</span></i>
<i><span style="color: #008000">// txferSrcSize, txferDesSize is the source,destination transfer size</span></i>
<i><span style="color: #008000">// cellSize is the cell size</span></i>
MY_APP_OBJ          myAppObj;
<i><span style="color: #008000">// Client registers an event handler with service. This is done once</span></i>

<a href="23736.html">SYS_DMA_ChannelTransferEventHandlerSet</a>( handle, APP_DMATransferEventHandle,
                                 (uintptr_t)&amp;myAppObj );

<a href="23731.html">SYS_DMA_ChannelSetup</a>(handle, SYS_DMA_CHANNEL_OP_MODE_BASIC,
                             DMA_TRIGGER_SOURCE_NONE);

<a href="23735.html">SYS_DMA_ChannelTransferAdd</a>(handle,pDmaSrc,txferSrcSize,
                            pDmaDst,txferDesSize,cellSize);

<a href="23727.html">SYS_DMA_ChannelForceStart</a>(handle);

<strong><span style="color: #000080">if</span></strong>(SYS_DMA_CHANNEL_HANDLE_INVALID == handle)
{
    <i><span style="color: #008000">// Error handling here</span></i>
}

<i><span style="color: #008000">// Event Processing Technique. Event is received when</span></i>
<i><span style="color: #008000">// the transfer is processed.</span></i>

<strong><span style="color: #000080">void</span></strong> APP_DMATransferEventHandle( SYS_DMA_TRANSFER_EVENT event,
        SYS_DMA_CHANNEL_HANDLE handle, uintptr_t contextHandle )
{

    <strong><span style="color: #000080">switch</span></strong>(event)
    {
        <strong><span style="color: #000080">case</span></strong> SYS_DMA_TRANSFER_EVENT_COMPLETE:

            <i><span style="color: #008000">// This means the data was transferred.</span></i>
            <strong><span style="color: #000080">break</span></strong>;

        <strong><span style="color: #000080">case</span></strong> SYS_DMA_TRANSFER_EVENT_ERROR:

            <i><span style="color: #008000">// Error handling here.</span></i>

            <strong><span style="color: #000080">if</span></strong>(SYS_DMA_ERROR_ADDRESS_ERROR == SYS_DMA_ChannelErrorGet(handle))
            {
                <i><span style="color: #008000">// There was an address error.</span></i>
                <i><span style="color: #008000">// Do error handling here.</span></i>
            }

            <strong><span style="color: #000080">break</span></strong>;

        <strong><span style="color: #000080">default</span></strong>:
            <strong><span style="color: #000080">break</span></strong>;
    }
}</pre></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="24419.html">System Service Libraries Help</a> &gt; <a href="07980.html">Direct Memory Access (DMA) System Service Library</a> &gt; <a href="24283.html">Library Interface</a> &gt; b) Channel Setup and Management Functions &gt; <a href="23725.html">SYS_DMA_ChannelErrorGet Function</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: SYS_DMA_ChannelErrorGet@SYS_DMA_CHANNEL_HANDLE Topic Title: SYS_DMA_ChannelErrorGet Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>