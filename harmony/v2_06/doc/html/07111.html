<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>4.3: Support a Dynamic Interface</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="13064.html">Volume IV: MPLAB Harmony Development</a> &gt; <a href="16808.html">MPLAB Harmony Compatibility Guide</a> &gt; <a href="07091.html">4: Flexibility Guidelines</a> &gt; <a href="07111.html">4.3: Support a Dynamic Interface</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="07110.html">Previous</a> | <a href="07091.html">Up</a> | <a href="07119.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: COMPGUIDE Support a Dynamic Interface Topic Title: 4.3: Support a Dynamic Interface)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
4.3: Support a Dynamic Interface</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
Most MPLAB Harmony library modules are intended to support multiple instances of themselves, each of which may support multiple clients. </p><p class="Element10" style="text-align: center;">
<strong>Dynamic Versus Static and Single-Client Versus Multi-Client Modules</strong>&nbsp;</p>
<p class="Element10" style="text-align: center;">
<img src="COMPGUIDE Client Module Comparisons.png" border="0" alt="" title=""></p><p class="Element10">
The previous diagram represents examples all four possible implementations for a USART driver. The top-Left example is a single driver that supports a single client (or user) of a single USART peripheral. The one to the Right of it shows a driver that would allow two clients (individual modules, completely unaware of each other) to share the same USART peripheral. The bottom-Right diagram shows a single driver that allows multiple clients to share multiple USART peripherals (notice that there are two clients to the USART1 instance and a third client for the USART2 instance). The last combination (to the bottom-Left), where a driver can support multiple hardware instances, but only one client at a time, is a special case of a fully dynamic, multi-client driver and not usually a separate implementation.&nbsp;</p>
<p class="Element10">
To support the ability to dynamically manage multiple instances, each potentially having multiple independent clients, the set of interface (or API) routines must support the ability to initialize each instance of the module and the ability to create a logical link between different clients for each instance of the module. MPLAB Harmony modules all require an &quot;Initialize&quot; function (which use standard return values and parameters) that must be called once during system initialization for each instance of the module to be used in the system. MPLAB Harmony device drivers all require the use of an &quot;Open&quot; function (which also uses standard return values and parameters) that provides a &quot;handle&quot; which links each client to a specific instance of the module. Other libraries (such as system services and middleware) may use different methods, but the interface must allow a fully dynamic implementation of the module to manage both multiple instances and multiple clients effectively.&nbsp;</p>
<p class="Element10">
However, it is acceptable for a specific implementation of a module may support only a single static instance of itself and/or support only a single client as long as the interface to the module allows for the ability to provide a fully dynamic (multi-instance, multi-client) implementation. The interface must not need to be changed if such an implementation is required in the future. </p><div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table0">
<tr>
<td class="Element67" valign="top" width="10%" style="border:none;">
<div class="Element68">
<img src="Note Icon.png" border="0" alt="" title=""> <strong>Note:</strong>&nbsp;</div></td><td class="Element67" valign="top" width="90%" style="border:none;">
<div class="Element68">
It is acceptable to expose a static (single-instance or single-client) interface as long as macros or inline functions are provided that translate calls to the dynamic interface into calls to the static interface. This method provides for source level compatibility, but may require a client to be rebuilt when switching from a dynamic to a static implementation (or vice versa).&nbsp;</div></td></tr></table></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="13064.html">Volume IV: MPLAB Harmony Development</a> &gt; <a href="16808.html">MPLAB Harmony Compatibility Guide</a> &gt; <a href="07091.html">4: Flexibility Guidelines</a> &gt; <a href="07111.html">4.3: Support a Dynamic Interface</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: COMPGUIDE Support a Dynamic Interface Topic Title: 4.3: Support a Dynamic Interface)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>