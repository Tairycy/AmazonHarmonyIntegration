<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>CLASSB_CRCFlashTest Function</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="06802.html">Class B Library Help</a> &gt; <a href="06811.html">Library Interface</a> &gt; a) Functions &gt; <a href="06819.html">CLASSB_CRCFlashTest Function</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="06818.html">Previous</a> | <a href="06811.html">Up</a> | <a href="06821.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: CLASSB_CRCFlashTest@char*@char*@unsigned int@unsigned int Topic Title: CLASSB_CRCFlashTest Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
CLASSB_CRCFlashTest Function</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="43"></a><div class="Element99">
C</div>
<div class="Element101"><div class="Element100"><pre class="Element100"><strong><span style="color: #000080">unsigned</span></strong> <strong><span style="color: #000080">int</span></strong> <strong><span style="color: #000000">CLASSB_CRCFlashTest</span></strong>(
    <strong><span style="color: #000080">char</span></strong>* <strong><span style="color: #000000">startAddress</span></strong>, 
    <strong><span style="color: #000080">char</span></strong>* <strong><span style="color: #000000">endAddress</span></strong>, 
    <strong><span style="color: #000080">unsigned</span></strong> <strong><span style="color: #000080">int</span></strong> <strong><span style="color: #000000">crcPoly</span></strong>, 
    <strong><span style="color: #000080">unsigned</span></strong> <strong><span style="color: #000080">int</span></strong> <strong><span style="color: #000000">crcSeed</span></strong>
);</pre></div></div>
<a name="4465736372697074696F6E"></a><div class="Element14">
Description</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
This routine detects the single bit Faults in the invariable memory. The invariable memory in a system, such as Flash and EEPROM memory, contains data that is not intended to vary during the program execution.&nbsp;</p>
<p class="Element10">
The test calculates the 16 bit CRC of the supplied memory area using the standard LFSR (Linear Feedback Shift Register) implementation. It calculates over the memory area between the startAddress and endAddress and returns the CRC Value. The 16 bit CRC is calculated using the supplied generator polynomial and initial seed. Different generator polynomials can be used as indicated above.</p></div>
</div>
<a name="507265636F6E646974696F6E73"></a><div class="Element14">
Preconditions</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
None.</p></div>
</div>
<a name="506172616D6574657273"></a><div class="Element14">
Parameters</div>
<div class="Element11">
<div class="Element10">
<div class="Element312">
<div class="TableDiv">
<table cellspacing="0" class="Table4">
<tr>
<td class="Element300" valign="top" width="35%">
<div class="Element301">
Parameters&nbsp;</div></td><td class="Element304" valign="top" width="65%">
<div class="Element305">
Description&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
startAddress&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
start Address of the memory area to start CRC calculation from<br>&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
endAddress&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
final address for which the CRC is calculated<br>&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
crcPoly&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
the generator polynomial to be used. One of the standard supplied polynomials can be used as well as other user defined ones.<br>&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
crcSeed&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
the initial value in the CRC LFSR. The usual recommended value is 0xffff.&nbsp;</div></td></tr></table></div></div>
</div>
</div>
<a name="52657475726E73"></a><div class="Element14">
Returns</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
The value of the calculated CRC over the specified memory area.</p></div>
</div>
<a name="52656D61726B73"></a><div class="Element14">
Remarks</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
This is a non-destructive memory test.&nbsp;</p>
<p class="Element10">
The startAddress and endAdress over which the CRC value is calculated are PIC32 variant and application dependent. They are run-time parameters.</p></div>
</div>
<a name="4578616D706C65"></a><div class="Element14">
Example</div>
<div class="Element11">
<div class="Element10">
<div class="Element170">
<a href="#" onclick="CopyElementToClipboard('code00196');">Copy Code</a></div>
<div class="Element13"><div class="Element12" id="code00196"><pre class="Element12"><strong><span style="color: #000080">unsigned</span></strong> <strong><span style="color: #000080">int</span></strong> crcRes=CLASSB_CRCFlashTest(startAddress, endAddress, <a href="07454.html">CRC_16_GEN_POLY</a>, 0xffff);
<strong><span style="color: #000080">if</span></strong>(crcRes==prevCalculatedCrc)
{
    <i><span style="color: #008000">// process test success</span></i>
}
<strong><span style="color: #000080">else</span></strong>
{
    <i><span style="color: #008000">// process tests failure: the CRC of the memory area has changed.</span></i>
}</pre></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="06802.html">Class B Library Help</a> &gt; <a href="06811.html">Library Interface</a> &gt; a) Functions &gt; <a href="06819.html">CLASSB_CRCFlashTest Function</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: CLASSB_CRCFlashTest@char*@char*@unsigned int@unsigned int Topic Title: CLASSB_CRCFlashTest Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>