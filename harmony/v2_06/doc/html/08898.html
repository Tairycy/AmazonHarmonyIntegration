<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Driver Tasks Routine</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="13069.html">Driver Libraries Help</a> &gt; <a href="27174.html">USART Driver Library</a> &gt; <a href="08909.html">Using the Library</a> &gt; <a href="08902.html">How the Library Works</a> &gt; <a href="08898.html">Driver Tasks Routine</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="08890.html">Previous</a> | <a href="08902.html">Up</a> | <a href="08910.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: DRV USART Driver Tasks Routine Topic Title: Driver Tasks Routine)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
Driver Tasks Routine</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
The USART driver contains three task routines, <a href="11515.html">DRV_USART_TasksTransmit</a>, <a href="11514.html">DRV_USART_TasksReceive</a> and <a href="11513.html">DRV_USART_TasksError</a>. These task routines implement the USART Driver state machines for transmit, receive and error related operations. If the driver is configured for polling operation, the required task routine should be called in <a href="24151.html">SYS_Tasks</a> routine of the system. If the driver is configured for interrupt mode of operation, the task routine should be called from the ISR. The following code shows an example of both. </p><div class="Element170">
<a href="#" onclick="CopyElementToClipboard('code01188');">Copy Code</a></div>
<div class="Element13"><div class="Element12" id="code01188"><pre class="Element12"><i><span style="color: #008000">/* The following code shows an example of
 * USART2 Interrupt Service Routine. This function
 * will be called when a USART2 interrupt occurs
 * and the driver is configured for interrupt mode
 * operation */</span></i>

<strong><span style="color: #000080">void</span></strong> __ISR ( _UART_2_VECTOR,ipl4 ) _InterruptHandler_USART ( <strong><span style="color: #000080">void</span></strong> )
{
    <i><span style="color: #008000">/* usartModule1 is the System Module Object
     * that was returned by the DRV_USART_Initialize
     * function. */</span></i>

    DRV_USART_TasksTransmit(usartModule1);
    DRV_USART_TasksReceive(usartModule1);
    DRV_USART_TasksError(usartModule1);

}

<i><span style="color: #008000">/* In case of Polled mode, the tasks routines are
 * invoked from the SYS_Tasks() routine. */</span></i>

<strong><span style="color: #000080">void</span></strong> SYS_Tasks(<strong><span style="color: #000080">void</span></strong>)
{
    DRV_USART_TasksTransmit(usartModule1);
    DRV_USART_TasksReceive(usartModule1);
    DRV_USART_TasksError(usartModule1);
}

<i><span style="color: #008000">/* The SYS_Tasks routine is invoked from the main
 * application while(1) loop. */</span></i>

<strong><span style="color: #000080">while</span></strong>(1)
{
    SYS_Tasks();
}</pre></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="13069.html">Driver Libraries Help</a> &gt; <a href="27174.html">USART Driver Library</a> &gt; <a href="08909.html">Using the Library</a> &gt; <a href="08902.html">How the Library Works</a> &gt; <a href="08898.html">Driver Tasks Routine</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: DRV USART Driver Tasks Routine Topic Title: Driver Tasks Routine)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>