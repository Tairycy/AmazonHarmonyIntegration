<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>PLIB_BMX_DataRAMPartitionSet Function</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="17367.html">Peripheral Libraries Help</a> &gt; <a href="04857.html">BMX Peripheral Library</a> &gt; <a href="17468.html">Library Interface</a> &gt; d) Memory Access Control Functions &gt; <a href="18403.html">PLIB_BMX_DataRAMPartitionSet Function</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="18402.html">Previous</a> | <a href="17468.html">Up</a> | <a href="18404.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: PLIB_BMX_DataRAMPartitionSet@BMX_MODULE_ID@size_t@size_t@size_t Topic Title: PLIB_BMX_DataRAMPartitionSet Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
PLIB_BMX_DataRAMPartitionSet Function</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="43"></a><div class="Element99">
C</div>
<div class="Element101"><div class="Element100"><pre class="Element100"><strong><span style="color: #000080">void</span></strong> <strong><span style="color: #000000">PLIB_BMX_DataRAMPartitionSet</span></strong>(
    <a href="04859.html">BMX_MODULE_ID</a> <strong><span style="color: #000000">index</span></strong>, 
    size_t <strong><span style="color: #000000">kernProgOffset</span></strong>, 
    size_t <strong><span style="color: #000000">userDataOffset</span></strong>, 
    size_t <strong><span style="color: #000000">userProgOffset</span></strong>
);</pre></div></div>
<a name="4465736372697074696F6E"></a><div class="Element14">
Description</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
This function sets the size of the kernel and user partitions in the data RAM memory (DRM). By default, the entire data RAM is mapped to Kernel mode and all of the offsets are zero. To partition the data RAM, all of the offsets must be set to a minimum of one DRM block size. If any of the offsets are set to zero, the entire data RAM is allocated to kernel data. The partitions must be a multiple of <a href="18409.html">PLIB_BMX_DRM_BLOCK_SIZE</a>. If programmed with a value that is not a multiple of <a href="18409.html">PLIB_BMX_DRM_BLOCK_SIZE</a>, the value will be automatically truncated to <a href="18409.html">PLIB_BMX_DRM_BLOCK_SIZE</a>.</p></div>
</div>
<a name="507265636F6E646974696F6E73"></a><div class="Element14">
Preconditions</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
None.</p></div>
</div>
<a name="506172616D6574657273"></a><div class="Element14">
Parameters</div>
<div class="Element11">
<div class="Element10">
<div class="Element312">
<div class="TableDiv">
<table cellspacing="0" class="Table4">
<tr>
<td class="Element300" valign="top" width="35%">
<div class="Element301">
Parameters&nbsp;</div></td><td class="Element304" valign="top" width="65%">
<div class="Element305">
Description&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
index&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
Identifier for the device instance to be configured&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
kernProgOffset&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
Size of the offset of the Kernel Program partition&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
userDataOffset&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
Size of the offset of the User Data partition&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
userProgOffset&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
Size of the offset of the User Program partition&nbsp;</div></td></tr></table></div></div>
</div>
</div>
<a name="52657475726E73"></a><div class="Element14">
Returns</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
None.</p></div>
</div>
<a name="52656D61726B73"></a><div class="Element14">
Remarks</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
This function implements an operation of the DataRAMPartition feature. This feature may not be available on all devices. Please refer to the specific device data sheet to determine availability or use <a href="18422.html">PLIB_BMX_ExistsDataRAMPartition</a> in your application to automatically determine whether this feature is available.</p></div>
</div>
<a name="4578616D706C65"></a><div class="Element14">
Example</div>
<div class="Element11">
<div class="Element10">
<div class="Element170">
<a href="#" onclick="CopyElementToClipboard('code01641');">Copy Code</a></div>
<div class="Element13"><div class="Element12" id="code01641"><pre class="Element12">
<i><span style="color: #008000">//Total Data RAM = 32 KB.</span></i>
size_t totalRamSize;
size_t kernDataRamSize = (3 * <a href="18409.html">PLIB_BMX_DRM_BLOCK_SIZE</a>);
size_t kernProgRamSize = (2 * <a href="18409.html">PLIB_BMX_DRM_BLOCK_SIZE</a>);
size_t userDataRamSize = (6 * <a href="18409.html">PLIB_BMX_DRM_BLOCK_SIZE</a>);
size_t userProgRamSize = (5 * <a href="18409.html">PLIB_BMX_DRM_BLOCK_SIZE</a>);

<i><span style="color: #008000">//Get Size of Data RAM</span></i>
totalRamSize = <a href="18404.html">PLIB_BMX_DataRAMSizeGet</a>(BMX_ID_0);

<i><span style="color: #008000">//Verify our partition sizes fit our RAM</span></i>
<strong><span style="color: #000080">if</span></strong> ((kernDataRamSize + kernProgRamSize + userDataRamSize + 
     userProgRamSize) != totalRamSize)
{
    printf(&quot;RAM Partitioning Errorn&quot;);
}

size_t kernProgOffset;
size_t userDataOffset;
size_t userProgOffset;

kernProgOffset = kernDataRamSize;
userDataOffset = kernDataRamSize + kernProgRamSize;
userProgOffset = userDataOffset + userDataRamSize;

PLIB_BMX_DataRAMPartitionSet(BMX_ID_0, kernProgOffset, 
                             userDataOffset, userProgOffset);</pre></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="17367.html">Peripheral Libraries Help</a> &gt; <a href="04857.html">BMX Peripheral Library</a> &gt; <a href="17468.html">Library Interface</a> &gt; d) Memory Access Control Functions &gt; <a href="18403.html">PLIB_BMX_DataRAMPartitionSet Function</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: PLIB_BMX_DataRAMPartitionSet@BMX_MODULE_ID@size_t@size_t@size_t Topic Title: PLIB_BMX_DataRAMPartitionSet Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>