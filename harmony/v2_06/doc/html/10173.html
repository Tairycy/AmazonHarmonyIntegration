<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>DRV_I2S_ErrorGet Function</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="13069.html">Driver Libraries Help</a> &gt; <a href="13740.html">I2S Driver Library Help</a> &gt; <a href="08607.html">Library Interface</a> &gt; d) Miscellaneous Functions &gt; <a href="10173.html">DRV_I2S_ErrorGet Function</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="10131.html">Previous</a> | <a href="08607.html">Up</a> | <a href="10219.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: DRV_I2S_ErrorGet@DRV_HANDLE Topic Title: DRV_I2S_ErrorGet Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
DRV_I2S_ErrorGet Function</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="43"></a><div class="Element99">
C</div>
<div class="Element101"><div class="Element100"><pre class="Element100"><a href="10167.html">DRV_I2S_ERROR</a> <strong><span style="color: #000000">DRV_I2S_ErrorGet</span></strong>(
    <a href="10088.html">DRV_HANDLE</a> <strong><span style="color: #000000">handle</span></strong>
);</pre></div></div>
<a name="4465736372697074696F6E"></a><div class="Element14">
Description</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
This function returns the error(if any) associated with the last client request. The <a href="10215.html">DRV_I2S_Read</a>() and <a href="10226.html">DRV_I2S_Write</a>() will update the client error status when these functions return <a href="10216.html">DRV_I2S_READ_ERROR</a> and <a href="10227.html">DRV_I2S_WRITE_ERROR</a>, respectively. If the driver send a DRV_I2S_BUFFER_EVENT_ERROR to the client, the client can call this function to know the error cause. The error status will be updated on every operation and should be read frequently (ideally immediately after the driver operation has completed) to know the relevant error status.</p></div>
</div>
<a name="507265636F6E646974696F6E73"></a><div class="Element14">
Preconditions</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
The <a href="10181.html">DRV_I2S_Initialize</a> routine must have been called for the specified I2S driver instance.&nbsp;</p>
<p class="Element10">
<a href="10212.html">DRV_I2S_Open</a> must have been called to obtain a valid opened device handle.&nbsp;</p></div>
</div>
<a name="506172616D6574657273"></a><div class="Element14">
Parameters</div>
<div class="Element11">
<div class="Element10">
<div class="Element312">
<div class="TableDiv">
<table cellspacing="0" class="Table4">
<tr>
<td class="Element300" valign="top" width="35%">
<div class="Element301">
Parameters&nbsp;</div></td><td class="Element304" valign="top" width="65%">
<div class="Element305">
Description&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
bufferhandle&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
Handle of the buffer of which the processed number of bytes to be obtained.&nbsp;</div></td></tr></table></div></div>
</div>
</div>
<a name="52657475726E73"></a><div class="Element14">
Returns</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
A <a href="10167.html">DRV_I2S_ERROR</a> type indicating last known error status.</p></div>
</div>
<a name="52656D61726B73"></a><div class="Element14">
Remarks</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
It is the client's responsibility to make sure that the error status is obtained frequently. The driver will update the client error status regardless of whether this has been examined by the client.</p></div>
</div>
<a name="4578616D706C65"></a><div class="Element14">
Example</div>
<div class="Element11">
<div class="Element10">
<div class="Element170">
<a href="#" onclick="CopyElementToClipboard('code00667');">Copy Code</a></div>
<div class="Element13"><div class="Element12" id="code00667"><pre class="Element12"><i><span style="color: #008000">// myAppObj is an application specific object.</span></i>
MY_APP_OBJ myAppObj;

uint8_t mybuffer[MY_BUFFER_SIZE];
<a href="10137.html">DRV_I2S_BUFFER_HANDLE</a> bufferHandle;

<i><span style="color: #008000">// myI2SHandle is the handle returned</span></i>
<i><span style="color: #008000">// by the DRV_I2S_Open function.</span></i>

<i><span style="color: #008000">// Client registers an event handler with driver. This is done once</span></i>

<a href="10143.html">DRV_I2S_BufferEventHandlerSet</a>( myI2SHandle, APP_I2SBufferEventHandle,
                                 (uintptr_t)&amp;myAppObj );

<a href="10139.html">DRV_I2S_BufferAddRead</a>( myI2Shandle,&amp;bufferHandle,
                                        myBuffer, MY_BUFFER_SIZE );

<strong><span style="color: #000080">if</span></strong>(<a href="10138.html">DRV_I2S_BUFFER_HANDLE_INVALID</a> == bufferHandle)
{
    <i><span style="color: #008000">// Error handling here</span></i>
}

<i><span style="color: #008000">// Event Processing Technique. Event is received when</span></i>
<i><span style="color: #008000">// the buffer is processed.</span></i>

<strong><span style="color: #000080">void</span></strong> APP_I2SBufferEventHandler( <a href="10132.html">DRV_I2S_BUFFER_EVENT</a> event,
        <a href="10137.html">DRV_I2S_BUFFER_HANDLE</a> bufferHandle, uintptr_t contextHandle )
{
    <i><span style="color: #008000">// The context handle was set to an application specific</span></i>
    <i><span style="color: #008000">// object. It is now retrievable easily in the event handler.</span></i>
    MY_APP_OBJ myAppObj = (MY_APP_OBJ *) contextHandle;
    size_t processedBytes;

    <strong><span style="color: #000080">switch</span></strong>(event)
    {
        <strong><span style="color: #000080">case</span></strong> DRV_I2S_BUFFER_EVENT_SUCCESS:

            <i><span style="color: #008000">// This means the data was transferred.</span></i>
            <strong><span style="color: #000080">break</span></strong>;

        <strong><span style="color: #000080">case</span></strong> DRV_I2S_BUFFER_EVENT_FAILURE:

            <i><span style="color: #008000">// Error handling here.</span></i>
            <i><span style="color: #008000">// We can find out how many bytes were processed in this</span></i>
            <i><span style="color: #008000">// buffer before the error occurred. We can also find</span></i>
            <i><span style="color: #008000">// the error cause.</span></i>

            processedBytes = <a href="10144.html">DRV_I2S_BufferProcessedSizeGet</a>(myI2SHandle);
            <strong><span style="color: #000080">if</span></strong>(DRV_I2S_ERROR_RECEIVE_OVERRUN == DRV_I2S_ErrorGet(myI2SHandle))
            {
                <i><span style="color: #008000">// There was an receive over flow error.</span></i>
                <i><span style="color: #008000">// Do error handling here.</span></i>
            }

            <strong><span style="color: #000080">break</span></strong>;

        <strong><span style="color: #000080">default</span></strong>:
            <strong><span style="color: #000080">break</span></strong>;
    }
}</pre></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="13069.html">Driver Libraries Help</a> &gt; <a href="13740.html">I2S Driver Library Help</a> &gt; <a href="08607.html">Library Interface</a> &gt; d) Miscellaneous Functions &gt; <a href="10173.html">DRV_I2S_ErrorGet Function</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: DRV_I2S_ErrorGet@DRV_HANDLE Topic Title: DRV_I2S_ErrorGet Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>