<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Configuring the Library</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="24419.html">System Service Libraries Help</a> &gt; <a href="14396.html">Interrupt System Service Library</a> &gt; <a href="24317.html">Configuring the Library</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="24331.html">Previous</a> | <a href="14396.html">Up</a> | <a href="24332.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: SYSTEM INT Configuring the Library Topic Title: Configuring the Library)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
Configuring the Library</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
To use the Interrupt System Service Library, the following must be correctly configured:
<ul class="Element630">
<li class="Element600">Select the Appropriate Processor</li>
<li class="Element600">Initialize the Interrupt System Service</li>
<li class="Element600">Configure the Raw ISR Support</li>
</ul></p><div class="Element15">
Select the Appropriate Processor</div>
<p class="Element10">
The following data types are dependent on the processor selection and are actually defined in the <a href="14394.html">Interrupt Peripheral Library</a> for the specific microcontroller being used.
<ul class="Element630">
<li class="Element600"><a href="14033.html">INT_SOURCE</a></li>
<li class="Element600">INT_PRIORITY</li>
<li class="Element600">INT_SUBPRIORITY</li>
</ul>These data types are configured by selecting the appropriate processor in MPLAB X IDE, which adds the &quot;mprocessor&quot; option to the compiler command line to identify the correct processor and processor-specific implementation of the peripheral library to use. Since the Interrupt System Service Library is part of the Microchip Firmware Framework, it will be built with the correct definition of these data types.</p><div class="Element15">
Initialize the Interrupt System Service</div>
<p class="Element10">
There are two ways to initialize the interrupt system service, depending on whether you are using a static configuration or a dynamic configuration.&nbsp;</p>
<p class="Element10">
For a Dynamic configuration the constant SYS_INT_DYNAMIC needs to be defined. This makes the <a href="23944.html">SYS_INT_DynamicRegister</a> and <a href="23943.html">SYS_INT_DynamicDeregister</a> functions available. The required driver tasks routines need to be registered using <a href="23944.html">SYS_INT_DynamicRegister</a> function.&nbsp;</p>
<p class="Element10">
For a Static configuration, the system designer or integrator must implement the <a href="23947.html">SYS_INT_Initialize</a> function. This function's purpose is to perform any actions necessary to initialize the interrupt subsystem and interrupt controller on the specific processor and system, usually interacting directly with the <a href="14394.html">Interrupt Peripheral Library</a> to accomplish these tasks.</p><div class="Element15">
Configure the Raw ISR Support</div>
<p class="Element10">
In some systems, there may only be a single actual (raw) ISR to handle all interrupts. In this sort of system, most of the Interrupt System Service Library may be implemented in software, with only the highest level interrupt being supported by hardware. In other systems, all interrupts may be supported by separate ISRs and vector selection and prioritization will be supported by hardware.&nbsp;</p>
<p class="Element10">
ISRs may be dynamically linked to specific interrupt sources or they may be statically linked at build time. If a dynamic interrupt library is used (by defining the constant <span class="Element146">SYS_INT_DYNAMIC</span>), the calls to the <a href="23944.html">SYS_INT_DynamicRegister</a> function will register a pointer to the given Tasks routine for each registered interrupt source in an internal table. The dynamic library will then determine the source of the interrupt and call the given Tasks routine.&nbsp;</p>
<p class="Element10">
If a static configuration is desired, the &quot;raw&quot; ISR support must be implemented so that it directly calls (using static, build-time linkage) the appropriate module's Tasks routine. This requires the system implementer or integrator to implement the raw ISR, but it reduces the amount of overhead necessary to handle interrupts, reducing both interrupt latency and code size.</p></div>
</div>
<a name="546F70696373"></a><div class="Element14">
Topics</div>
<div class="Element11">
<div class="Element10">
<div class="Element212">
<div class="TableDiv">
<table cellspacing="0" class="Table1">
<tr>
<td class="Element200" valign="top" width="35%">
<div class="Element201">
Name&nbsp;</div></td><td class="Element204" valign="top" width="65%">
<div class="Element205">
Description&nbsp;</div></td></tr><tr>
<td class="Element202" valign="top" width="35%">
<div class="Element203">
<a href="24332.html">Static Configuration</a>&nbsp;</div></td><td class="Element206" valign="top" width="65%">
<div class="Element207">
When statically configuring raw ISR support, the system implementer or integrator must directly implement the raw ISRs in an appropriate manner for the selected processor. The raw ISR, must then call the appropriate Tasks routine to properly handle and clear the interrupt source.&nbsp;</div></td></tr><tr>
<td class="Element202" valign="top" width="35%">
<div class="Element203">
<a href="24320.html">Dynamic Configuration</a>&nbsp;</div></td><td class="Element206" valign="top" width="65%">
<div class="Element207">
When dynamically configuring raw ISR support, the system implementer or integrator must register each interrupt-driven driver or module's Tasks routine with the dynamic system interrupt service for the appropriate interrupt source. The dynamic SYS INT service will then ensure that the appropriate Tasks routine is called when an interrupt occurs.&nbsp;</div></td></tr></table></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="24419.html">System Service Libraries Help</a> &gt; <a href="14396.html">Interrupt System Service Library</a> &gt; <a href="24317.html">Configuring the Library</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: SYSTEM INT Configuring the Library Topic Title: Configuring the Library)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>