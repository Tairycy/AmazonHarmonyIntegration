<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>System Configuration</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="24419.html">System Service Libraries Help</a> &gt; <a href="12133.html">File System Service Library</a> &gt; <a href="24308.html">File System Service Library Porting Guide</a> &gt; <a href="24311.html">System Configuration</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="24302.html">Previous</a> | <a href="24308.html">Up</a> | <a href="24306.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: SYSTEM FS System Configuration Topic Title: System Configuration)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
System Configuration</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
<strong>system_config.h file in MPLAB Harmony:</strong>&nbsp;</p>
<p class="Element10">
The file <span class="Element146">system_config.h</span> contains the various system configurations required to run an application. Examples of system configurations related to, but not limited to drivers are:
<ul class="Element630">
<li class="Element600">SPI driver configuration: such as <a href="10914.html">DRV_SPI_INSTANCES_NUMBER</a>, <a href="10904.html">DRV_SPI_CLIENTS_NUMBER</a>, DRV_SPI_INTERRUPT_MODE, DRV_SPI_BUFFER_SIZE, etc.</li>
<li class="Element600">SD Card driver configuration: such as <a href="10881.html">DRV_SDCARD_INSTANCES_NUMBER</a>, <a href="10854.html">DRV_SDCARD_CLIENTS_NUMBER</a>, DRV_SDCARD_QUEUE_POOL_SIZE, etc.</li>
</ul>These configurations are required to configure the drivers used for the FS. Since the driver concept was not present in the legacy MLA code, this is a new addition to MPLAB Harmony. To get detailed information about each of the configuration parameter, please refer to the specific driver documentation.&nbsp;</p>
<p class="Element10">
Media manager configuration:
<ul class="Element630">
<li class="Element600"><a href="23901.html">SYS_FS_MEDIA_NUMBER</a> - Number of media that will be used in the application. For example, if the application uses SD card and Mass storage device the <a href="23901.html">SYS_FS_MEDIA_NUMBER</a> should be defined as 2.</li>
<li class="Element600"><a href="23923.html">SYS_FS_VOLUME_NUMBER</a> - Number of volumes that will be used in the application. MPLAB Harmony supports multi-partitioned media. If the application uses a SD card that has three partitions and a Mass storage device, which has one partition, the <a href="23923.html">SYS_FS_VOLUME_NUMBER</a> should be defined as 4.</li>
<li class="Element600">Clock related configurations are present in the file, which are used to set the clock for the device</li>
</ul>File system related configuration:
<ul class="Element630">
<li class="Element600"><a href="23898.html">SYS_FS_MAX_FILE_SYSTEM_TYPE</a> - Number of native file system that will be used in the application. MPLAB Harmony supports multiple native file systems. If the application uses two file systems, FAT FS and MPFS2, <a href="23898.html">SYS_FS_MAX_FILE_SYSTEM_TYPE</a> should be defined as 2.</li>
<li class="Element600"><a href="23899.html">SYS_FS_MAX_FILES</a> - Maximum number of files that will be opened by the application at a time</li>
<li class="Element600">Other application-specific configuration settings</li>
</ul><strong><a href="24151.html">SYS_Tasks</a> in MPLAB Harmony:</strong>&nbsp;</p>
<p class="Element10">
In the case of MPLAB Harmony, certain tasks need to be executed periodically. These tasks are executed from a common function called <a href="24151.html">SYS_Tasks</a>, which is in turn called from the main loop (while(1)) loop. While the concept of running certain functions from the main loop is not new, the legacy MLA demonstration code did not have any functions that had to run from the main loop. However, in case of MPLAB Harmony, it is mandatory that certain tasks should be running periodically from the main loop.&nbsp;</p>
<p class="Element10">
In the case of the FS application, tasks that have to run from <a href="24151.html">SYS_Tasks</a> function are:
<ul class="Element630">
<li class="Element600"><a href="23909.html">SYS_FS_Tasks</a> - This task maintains the working of the SYS_FS layer and other file system related layers. It is extremely essential that this function runs periodically from the <a href="24151.html">SYS_Tasks</a> function.</li>
<li class="Element600">Driver task - Consider a case where the FS application uses a SD card; there is no hardware module that controls the SD card. In such a case, the task routine for the SD card must run from <a href="24151.html">SYS_Tasks</a>. This is required so that the internal driver mechanism for the SD card continues working.</li>
<li class="Element600">Any other application related task</li>
</ul><img src="Harmony_sys_tasks.png" border="0" alt="" title=""></p></div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="24419.html">System Service Libraries Help</a> &gt; <a href="12133.html">File System Service Library</a> &gt; <a href="24308.html">File System Service Library Porting Guide</a> &gt; <a href="24311.html">System Configuration</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: SYSTEM FS System Configuration Topic Title: System Configuration)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>