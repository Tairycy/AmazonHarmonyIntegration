<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Opening the Driver</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="13069.html">Driver Libraries Help</a> &gt; <a href="23142.html">SPI Flash Driver Library</a> &gt; <a href="08792.html">Using the Library</a> &gt; <a href="08778.html">How the Library Works</a> &gt; <a href="08783.html">Opening the Driver</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="08791.html">Previous</a> | <a href="08778.html">Up</a> | <a href="08772.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: DRV SPI FLASH Opening the Driver Topic Title: Opening the Driver)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
Opening the Driver</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
To use the SST Flash driver, the application must open the driver. Using the SST25VF020B as an example, this is done by calling the <a href="11150.html">DRV_SST25VF020B_Open</a> function. Calling this function with DRV_IO_INTENT_NONBLOCKING will cause the driver to be opened in non blocking mode. Then <a href="11109.html">DRV_SST25VF020B_BlockErase</a>, <a href="11113.html">DRV_SST25VF020B_BlockWrite</a> and <a href="11112.html">DRV_SST25VF020B_BlockRead</a> functions when called by this client will be non-blocking.&nbsp;</p>
<p class="Element10">
The client can also open the driver in Read-only mode (DRV_IO_INTENT_READ), Write-only mode (DRV_IO_INTENT_WRITE), and Exclusive mode (DRV_IO_INTENT_EXCLUSIVE). If the driver has been opened exclusively by a client, it cannot be opened again by another client.&nbsp;</p>
<p class="Element10">
If successful, the <a href="11150.html">DRV_SST25VF020B_Open</a> function will return a handle to the driver. This handle records the association between the client and the driver instance that was opened. The <a href="11150.html">DRV_SST25VF020B_Open</a> function may return <a href="10089.html">DRV_HANDLE_INVALID</a> in the situation where the driver is not ready to be opened. When this occurs, the application can try opening the driver again. Note that the open function may return an invalid handle in other (error) cases as well.&nbsp;</p>
<p class="Element10">
The following code shows an example of the driver being opened in different modes. </p><div class="Element170">
<a href="#" onclick="CopyElementToClipboard('code00779');">Copy Code</a></div>
<div class="Element13"><div class="Element12" id="code00779"><pre class="Element12">DRV_HANDLE sstHandle1, sstHandle2;

<i><span style="color: #008000">/* Client 1 opens the SST driver in non blocking mode */</span></i>
sstHandle1 = DRV_SST25VF020B_Open(DRV_SST25VF020B_INDEX_0, DRV_IO_INTENT_NONBLOCKING);

<i><span style="color: #008000">/* Check if the handle is valid */</span></i>
<strong><span style="color: #000080">if</span></strong>(DRV_HANDLE_INVALID == sstHandle1)
{
    <i><span style="color: #008000">/* The driver was not opened successfully. The client
     * can try opening it again */</span></i>
}

<i><span style="color: #008000">/* Client 2 opens the SST driver in Exclusive Write only mode */</span></i>
sstHandle2 = DRV_SST25VF020B_Open(DRV_SST25VF020B_INDEX_0, DRV_IO_INTENT_WRITE | DRV_IO_INTENT_EXCLUSIVE);

<i><span style="color: #008000">/* Check if the handle is valid */</span></i>
<strong><span style="color: #000080">if</span></strong>(DRV_HANDLE_INVALID == sstHandle2)
{
    <i><span style="color: #008000">/* The driver was not opened successfully. The client
     * can try opening it again */</span></i>
}</pre></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="13069.html">Driver Libraries Help</a> &gt; <a href="23142.html">SPI Flash Driver Library</a> &gt; <a href="08792.html">Using the Library</a> &gt; <a href="08778.html">How the Library Works</a> &gt; <a href="08783.html">Opening the Driver</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: DRV SPI FLASH Opening the Driver Topic Title: Opening the Driver)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>