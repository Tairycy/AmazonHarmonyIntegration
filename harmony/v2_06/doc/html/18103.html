<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Introduction</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="17367.html">Peripheral Libraries Help</a> &gt; <a href="27451.html">USB Peripheral Library</a> &gt; <a href="18103.html">Introduction</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="27451.html">Previous</a> | <a href="27451.html">Up</a> | <a href="18116.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: PLIB USB Introduction Topic Title: Introduction)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
Introduction</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10" style="text-align: center;">
<img src="USB_DC_LandingPage.png" border="0" alt="" title=""></p><div class="Element15">
USB Overview</div>
<p class="Element10">
USB is an asynchronous serial interface with a tiered star configuration. USB is implemented as a master/slave configuration. On a given bus, there can be multiple (up to 127) slaves (devices), but there is only one master (host). There are three possible module implementations: host, device and OTG dual role. The user should have an understanding of the USB documents available on the USB implementers web site (<a href="#" onclick="openExternalLink('www.usb.org');"><img src="indicator_external_link.gif" border="0" alt="" title="">www.usb.org</a>).</p><div class="Element15">
Device</div>
<p class="Element10">
The USB device accepts data from the host and responds to requests for data. It performs some peripheral functions, such as a mouse or data storage device.
<ul class="Element630">
<li class="Element600">Functionality may be class or vendor-specific</li>
<li class="Element600">Draws 100 mA or less before configuration</li>
<li class="Element600">Can draw up to 500 mA after successful negotiation with the host</li>
<li class="Element600">Can support low-speed, full-speed or high-speed protocol. Hi-speed support requires implementation of full-speed. (<i>Low, Full, and Hi-Speed supported by this module.</i>)</li>
<li class="Element600">Supports control transfers. Supports data transfers required for implementation</li>
<li class="Element600">Optionally supports Session Request Protocol (SRP)</li>
<li class="Element600">Can be bus-powered or self-powered</li>
</ul></p><div class="Element15">
Host</div>
<p class="Element10">
The host is the master in a USB system and is responsible for identifying all devices connected to it (enumeration), initiating all transfers, allocating bus bandwidth and supplying power to any bus-powered USB devices connected directly to it. There are two types of hosts.&nbsp;</p>
<p class="Element10">
USB Standard Host:
<ul class="Element630">
<li class="Element600">A large variety of devices are supported</li>
<li class="Element600">This host supports all USB transfer types</li>
<li class="Element600">USB hubs are supported to allow connection of multiple devices simultaneously</li>
<li class="Element600">Device drivers can be updated to support new devices</li>
<li class="Element600">A type ‘A’ receptacle is used for each port</li>
<li class="Element600">Each port must be able to deliver a minimum of 100 mA for a configured or unconfigured</li>
<li class="Element600">device, and optionally, up to 500 mA for a configured device</li>
<li class="Element600">Full-Speed and Low-Speed must be supported. Hi-Speed can be supported.</li>
<li class="Element600">This is a typical personal computer implementation</li>
</ul></p><div class="Element15">
Embedded Host</div>
<p class="Element10">

<ul class="Element630">
<li class="Element600">Only supports a specific list of devices, referred to as a Targeted Peripheral List (TPL)</li>
<li class="Element600">This type of host is only required to support transfer types required by devices in the TPL</li>
<li class="Element600">USB hub support is optional (<i>Provided in this module</i>)</li>
<li class="Element600">Device drivers are not required to be pocketable</li>
<li class="Element600">A type ‘A’ receptacle is used for each port</li>
<li class="Element600">Only speeds required by devices in the TLP must be supported. (<i>Low, Full, and Hi-Speed supported by this module.</i>)</li>
<li class="Element600">Each port must be able to deliver a minimum of 100 mA for a configured or unconfigured device, and optionally, up to 500 mA for a configured device</li>
<li class="Element600">This is a typical implementation for a microcontroller</li>
</ul></p><div class="Element15">
USB On-the-Go (OTG)</div>
<p class="Element10">
The OTG dual role device supports both USB host and device functionality. OTG dual role devices use a micro-AB receptacle. This allows a micro-A or a micro-B plug to be attached. Both the micro-A and micro-B plugs have an additional pin, the ID pin, to signify the connection type. The plug type, micro-A or micro-B, determines the default role of the OTG device, host or USB device. An OTG device will perform the role of a host when a micro-A plug is detected. When a micro-B plug is detected, the role of a USB device is performed.&nbsp;</p>
<p class="Element10">
When an OTG device is directly connected to another OTG device using an OTG cable, micro-A to micro-B, Host Negotiation Protocol (HNP) can be used to swap the roles of the host and USB device between the two without disconnecting and reconnecting cabling. To differentiate between the two OTG devices, the term, &quot;A-device&quot;, is used to refer to the device connected to the micro-A plug and &quot;B-device&quot; is used to refer to the OTG device connected to the micro-B plug.&nbsp;</p>
<p class="Element10">
<u>OTG dual role operating as a host (A-device):</u>
<ul class="Element630">
<li class="Element600">Only supports a specific list of devices, referred to as a Targeted Peripheral List (TPL). Generic class support is not allowed.</li>
<li class="Element600">Only required to support transaction types required by devices in the TPL</li>
<li class="Element600">USB hub support is optional. (<i>Multi-point support provided by this module.</i>)</li>
<li class="Element600">Device drivers are not required to be pocketable</li>
<li class="Element600">Only a single micro-AB receptacle is used</li>
<li class="Element600">Only Full-Speed must be supported. Hi-Speed and/or Low-Speed can be supported. (<i>Low, Full, and Hi-Speed supported by this module.</i>)</li>
<li class="Element600">The USB port must be able to deliver a minimum of 8 mA for a configured or unconfigured device, and optionally, up to 500 mA for a configured device</li>
<li class="Element600">Supports Host Negotiation Protocol (HNP) and Session Request Protocol (SRP). The host can switch roles to become a device. The initial role as a host or device is determined by the plug type, micro-A or micro-B, inserted into the micro-AB receptacle</li>
<li class="Element600">The A-device supplies VBUS power, when the bus is powered, even if the roles are swapped using HNP</li>
</ul><u>OTG dual role operating as a USB device (B-device):</u>
<ul class="Element630">
<li class="Element600">Class or vendor-specific functionality</li>
<li class="Element600">Draws 8 mA or less before configuration</li>
<li class="Element600">Is typically self-powered due to low-current requirements, but can draw up to 500 mA after successful negotiation with the host</li>
<li class="Element600">Only a single micro-AB receptacle is used</li>
<li class="Element600">Must support Full-Speed. Support of Low-Speed and/or Hi-Speed is optional</li>
<li class="Element600">Supports control transactions. Supports data transactions required for implementation.</li>
<li class="Element600">Supports Session Request Protocol (SRP) and/or Host Negotiation Protocol (HNP). (<i>This module supports both SRP and HNP</i>.)</li>
<li class="Element600">The A-device supplies VBUS power, when the bus is powered, even if the roles are swapped using HNP</li>
</ul>&nbsp;</p><div class="Element15">
Additional Features of the Hi-Speed USB Module</div>
<p class="Element10">

<ul class="Element630">
<li class="Element600">Operates either as a function controller of a Hi-Speed/Full-Speed USB device or as the host/device in a point-to-point or multi-point communications with other USB function</li>
<li class="Element600">Supports OTG communications with on or more Hi-Speed, Full-Speed, or Low-Speed devices</li>
<li class="Element600">Provides soft<span style="color: #FFFFFF">_</span>connect/disconnect.</li>
<li class="Element600">In addition to Endpoint Zero, supports seven transmit and seven receive endpoints</li>
<li class="Element600">Dynamic FIFO sizing for Endpoints 1-7. (Endpoint Zero FIFO fixed at 64 bytes.) FIFOs use module-internal SRAM.</li>
<li class="Element600">Module-internal eight channel DMA with access to all FIFOs</li>
<li class="Element600">All host transaction scheduling supported in hardware</li>
<li class="Element600">Supports Link Power Management</li>
</ul></p></div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="17367.html">Peripheral Libraries Help</a> &gt; <a href="27451.html">USB Peripheral Library</a> &gt; <a href="18103.html">Introduction</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: PLIB USB Introduction Topic Title: Introduction)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>