<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>CLASSB_RAMMarchCStackTest Function</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="06802.html">Class B Library Help</a> &gt; <a href="06811.html">Library Interface</a> &gt; a) Functions &gt; <a href="06823.html">CLASSB_RAMMarchCStackTest Function</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="06822.html">Previous</a> | <a href="06811.html">Up</a> | <a href="06824.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: CLASSB_RAMMarchCStackTest@unsigned int*@unsigned int Topic Title: CLASSB_RAMMarchCStackTest Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
CLASSB_RAMMarchCStackTest Function</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="43"></a><div class="Element99">
C</div>
<div class="Element101"><div class="Element100"><pre class="Element100"><a href="06825.html">CLASSBRESULT</a> <strong><span style="color: #000000">CLASSB_RAMMarchCStackTest</span></strong>(
    <strong><span style="color: #000080">unsigned</span></strong> <strong><span style="color: #000080">int</span></strong>* <strong><span style="color: #000000">ramStartAddress</span></strong>, 
    <strong><span style="color: #000080">unsigned</span></strong> <strong><span style="color: #000080">int</span></strong> <strong><span style="color: #000000">ramSize</span></strong>
);</pre></div></div>
<a name="4465736372697074696F6E"></a><div class="Element14">
Description</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
This test is a complete and non redundant test capable of detecting stuck-at, addressing, transition and coupling faults. This test is of complexity 11n( Where n is the number of bits tested). The test uses word (32-bit) accesses. The addresses must be properly word aligned and the lengths of the areas to be tested must be an integral multiple of the data width access.</p></div>
</div>
<a name="507265636F6E646974696F6E73"></a><div class="Element14">
Preconditions</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
None.</p></div>
</div>
<a name="506172616D6574657273"></a><div class="Element14">
Parameters</div>
<div class="Element11">
<div class="Element10">
<div class="Element312">
<div class="TableDiv">
<table cellspacing="0" class="Table4">
<tr>
<td class="Element300" valign="top" width="35%">
<div class="Element301">
Parameters&nbsp;</div></td><td class="Element304" valign="top" width="65%">
<div class="Element305">
Description&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
ramStartAddress&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
start Address of RAM area to be used as temporary stack. The stack will be copied into this memory, and the stack pointer redirected here. Has to NOT overlap the Stack area! Must be properly 32 bit aligned.<br>&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
ramSize&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
number of consecutive byte locations for which the test is to be performed The portion of the stack to be tested will be from the Stack Start (Highest address) to this address minus ramSize. This value also defines the amount of memory available as a temporary stack. The size must be a number multiple of 4. The size of the RAM area tested has to be &gt;= 128 bytes.&nbsp;</div></td></tr></table></div></div>
</div>
</div>
<a name="52657475726E73"></a><div class="Element14">
Returns</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
Result identifying the pass/fail status of the test: CLASSB_TEST_PASS - The test passed. RAM and Stack area tested have not been detected to have faults.&nbsp;</p>
<p class="Element10">
CLASSB_TEST_FAIL - The test failed. Either some RAM or Stack area location has been detected to have faults,&nbsp;</p>
<p class="Element10">
&nbsp;</p></div>
</div>
<a name="52656D61726B73"></a><div class="Element14">
Remarks</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
This function is just a helper to March C test both a regular RAM area and a Stack area. First the RAM area is tested using the standard March C test. If the test succeeded, the requested Stack area is saved/copied in the RAM area that has just been tested and then the March C test is run over the Stack area as if it were a regular RAM area. The saved Stack area is restored and the result of the test is returned to the user.&nbsp;</p>
<p class="Element10">
The RAM and Stack areas have to NOT overlap! The Stack grows downwards so the tested area is: [stackTopAddress-stackSize, stackTopAddress] Also the size of the Stack area to be tested has to be less than the size of the RAM area.&nbsp;</p>
<p class="Element10">
The processor SP register is changed to the point to the RAM area while the Stack area is tested. Since running the MARC C test requires at least 128 bytes of stack, the RAM area size should be at least 128 bytes long. Once the Stack area is tested, the SP register is restored.&nbsp;</p>
<p class="Element10">
This is a destructive memory test. Either exclude from this test RAM areas that have to be preserved or save/restore the memory area before/after running the test or run the test at system startup before the memory and the run time library is initialized (stack needs to be initialized though).&nbsp;</p>
<p class="Element10">
At least 128 bytes should be available for stack for executing the March C test. The tested RAM area must not overlap the stack.&nbsp;</p>
<p class="Element10">
Other statically allocated resources, such as the MPLAB ICD/Real ICE allocated RAM buffers should be excluded from this test.&nbsp;</p>
<p class="Element10">
The Start Address from which the March C test is to be performed is PIC32 variant and application dependent. It is a run-time parameter.&nbsp;</p>
<p class="Element10">
The routine accesses one 4 byte RAM word at a time.</p></div>
</div>
<a name="4578616D706C65"></a><div class="Element14">
Example</div>
<div class="Element11">
<div class="Element10">
<div class="Element170">
<a href="#" onclick="CopyElementToClipboard('code00199');">Copy Code</a></div>
<div class="Element13"><div class="Element12" id="code00199"><pre class="Element12"><strong><span style="color: #000080">int</span></strong> testRes=CLASSB_RAMMarchCStackTest(startAddress, size);
<strong><span style="color: #000080">if</span></strong>(testRes==CLASSB_TEST_PASS)
{
    <i><span style="color: #008000">// process test success</span></i>
}
<strong><span style="color: #000080">else</span></strong>
{
    <i><span style="color: #008000">// process tests failure</span></i>
}</pre></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="06802.html">Class B Library Help</a> &gt; <a href="06811.html">Library Interface</a> &gt; a) Functions &gt; <a href="06823.html">CLASSB_RAMMarchCStackTest Function</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: CLASSB_RAMMarchCStackTest@unsigned int*@unsigned int Topic Title: CLASSB_RAMMarchCStackTest Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>