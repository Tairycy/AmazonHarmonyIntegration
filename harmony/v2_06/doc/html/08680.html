<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>How the Library Works</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="13069.html">Driver Libraries Help</a> &gt; <a href="13090.html">Touch Driver Libraries Help</a> &gt; <a href="16823.html">mXT336T Touch Driver Library</a> &gt; <a href="08688.html">Using the Library</a> &gt; <a href="08680.html">How the Library Works</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="08684.html">Previous</a> | <a href="08688.html">Up</a> | <a href="08681.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: DRV MXT336T How the Library Works Topic Title: How the Library Works)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
How the Library Works</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
The library provides interfaces to support:
<ul class="Element636">
<li class="Element606">System functions, which provide system module interfaces, device initialization, deinitialization, open, close, task, and status functions.</li>
<li class="Element606">Read Request function, which provides Touch input data read request function</li>
<li class="Element606">Read Touch Input function, which provides functions retrieving updated Touch input in the form x and y coordinates.</li>
</ul></p></div>
</div>
<a name="546F70696373"></a><div class="Element14">
Topics</div>
<div class="Element11">
<div class="Element10">
<div class="Element212">
<div class="TableDiv">
<table cellspacing="0" class="Table1">
<tr>
<td class="Element200" valign="top" width="35%">
<div class="Element201">
Name&nbsp;</div></td><td class="Element204" valign="top" width="65%">
<div class="Element205">
Description&nbsp;</div></td></tr><tr>
<td class="Element202" valign="top" width="35%">
<div class="Element203">
<a href="08681.html">Initializing the Driver</a>&nbsp;</div></td><td class="Element206" valign="top" width="65%">
<div class="Element207">
Before the mXT336T Touch Driver can be opened, it must be configured and initialized. The driver build time configuration is defined by the configuration macros. Refer to the <a href="08673.html">Building the Library</a> section for the location of and more information on the various configuration macros and how these macros should be designed. The driver initialization is configured through the <span class="Element146"><a href="11375.html">DRV_TOUCH_INIT</a></span> data structure that is passed to the <span class="Element146"><a href="10551.html">DRV_MXT336T_Initialize</a></span> and the <span class="Element146"><a href="10481.html">DRV_MXT_Initialize</a></span> functions. The initialization parameters include the interrupt source, interrupt pin remap configuration and touch screen resolution. The following code shows an example of initializing the mXT336T Touch Driver.<br>Example: &nbsp;</div></td></tr><tr>
<td class="Element202" valign="top" width="35%">
<div class="Element203">
<a href="08685.html">Opening the Driver</a>&nbsp;</div></td><td class="Element206" valign="top" width="65%">
<div class="Element207">
To use the mXT336T Touch Driver, the application must open the driver. This is done by calling the <span class="Element146"><a href="10505.html">DRV_MXT_Open</a></span> function.<br>If successful, the <span class="Element146"><a href="10505.html">DRV_MXT_Open</a></span> function will return a handle to the driver. This handle records the association between the client and the driver instance that was opened. The <span class="Element146"><a href="10505.html">DRV_MXT_Open</a></span> function may return<span class="Element146"> <a href="10089.html">DRV_HANDLE_INVALID</a></span> in the situation where the driver is not ready to be opened. When this occurs, the application can try opening the driver again. Note that the open function may return an invalid handle in other (error) cases as well. The following code shows an example of the... <a href="08685.html">more</a>&nbsp;</div></td></tr><tr>
<td class="Element202" valign="top" width="35%">
<div class="Element203">
<a href="08687.html">Touch Input Read Request</a>&nbsp;</div></td><td class="Element206" valign="top" width="65%">
<div class="Element207">
To read the touch input from the mXT336T touch controller device, a read request must be registered. This is done by calling <span class="Element146"><a href="10700.html">DRV_MXT336T_ReadRequest</a></span>. If successful, it registers a buffer read request to the I2C command queue. It also adds an input decode command to the mXT336T command queue once the I2C returns with touch input data. It can return error if the driver instance object is invalid or the mXT336T command queue is full. The read request is to be called from the mXT336T ISR. This ISR is triggered once the touch input is available. The following code shows... <a href="08687.html">more</a>&nbsp;</div></td></tr><tr>
<td class="Element202" valign="top" width="35%">
<div class="Element203">
<a href="08686.html">Tasks Routine</a>&nbsp;</div></td><td class="Element206" valign="top" width="65%">
<div class="Element207">
This routine processes the mXT336T commands from the command queue. If the state of the command is initialize or done it returns. If the read request registration is successful the state of command is to decode input. The tasks routine decodes the input and updates the global variables storing the touch input data in form of x and y coordinates. The mXT336T Touch Driver task routine is to be called from <span class="Element146"><a href="24151.html">SYS_Tasks</a></span>. The following code shows an example: &nbsp;</div></td></tr></table></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="13069.html">Driver Libraries Help</a> &gt; <a href="13090.html">Touch Driver Libraries Help</a> &gt; <a href="16823.html">mXT336T Touch Driver Library</a> &gt; <a href="08688.html">Using the Library</a> &gt; <a href="08680.html">How the Library Works</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: DRV MXT336T How the Library Works Topic Title: How the Library Works)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>