<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Running the Demonstration</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="04300.html">Volume I: Getting Started With MPLAB Harmony Libraries and Applications</a> &gt; <a href="03342.html">Applications Help</a> &gt; <a href="07547.html">Crypto Demonstrations</a> &gt; <a href="03545.html">Demonstrations</a> &gt; <a href="03550.html">ecc_symmetric</a> &gt; <a href="03553.html">Running the Demonstration</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="03552.html">Previous</a> | <a href="03550.html">Up</a> | <a href="08263.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: APPS CRYPTO ecc_symmetric_run Topic Title: Running the Demonstration)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
Running the Demonstration</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table2">
<tr>
<td class="Element67" valign="top" width="30%">
<div class="Element68">
<img src="Important Star.png" border="0" alt="" title=""><strong> Important!</strong>&nbsp;</div></td><td class="Element67" valign="top" width="70%">
<div class="Element68">
Prior to using this demonstration, it is recommended to review the MPLAB Harmony Release Notes for any known issues. A PDF copy of the release notes is provided in the<i> &lt;install-dir&gt;/doc</i> folder of your installation.&nbsp;</div></td></tr></table></div></div>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
The following steps are used to run the demonstration:</p>
<ol class="Element630">
<li value="1" class="Element600">Open the project in MPLAB X IDE and select the pic32mz_ef_curiosity project configuration.</li>
<li value="2" class="Element600">Build the code and program the device by clicking on the program button as shown below.</li>
</ol><p class="Element10" style="text-align: center;">
<img src="APPS CRYPTO asymmetric program_button.png" border="0" alt="" title=""></p>
<ol class="Element630">
<li value="3" class="Element600">After power up, the demonstration is active. This is indicated by a yellow LED (LED3) on the board.</li>
<li value="4" class="Element600">Plug in a USB cable with a Micro-B type connector to the Micro-B port (J12) of the Curiosity board, and plug the other end into the computer.</li>
<li value="5" class="Element600">If this is the first time using this device with a personal computer, there may be a prompt for a .inf file.</li>
<li value="6" class="Element600">Select the Install from a list or specific location (Advanced) option. Specify the path from &lt;install-dir&gt;/apps/crypto/ecc_symmetric/inf directory.</li>
</ol><div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table2">
<tr>
<td class="Element67" valign="top" width="20%">
<div class="Element68">
<img src="Note Icon.png" border="0" alt="" title=""><strong>Note</strong>:&nbsp;</div></td><td class="Element67" valign="top" width="80%">
<div class="Element68">
Optionally, to specify the driver, open the device manager and expand the Ports (COM &amp; LPT) tab, then right click on Update Driver Software.&nbsp;</div></td></tr></table></div></div>
<p class="Element10" style="text-align: center;">
<img src="APPS CRYPTO symmetric device_manager.png" border="0" alt="" title=""></p>
<ol class="Element630">
<li value="7" class="Element600">Once the device is installed, open a terminal program, such as Tera Term or HyperTerminal. Select the appropriate COM port for the terminal. The following figure shows the COM port selection for the Tera Term terminal program.</li>
</ol><p class="Element10" style="text-align: center;">
<img src="APPS CRYPTO assymetric comport.png" border="0" alt="" title=""></p>
<ol class="Element630">
<li value="8" class="Element600">Once the Tera Term screen is displayed, Press the Enter key. The following modes of operation will be displayed.</li>
</ol><p class="Element10" style="text-align: center;">
<img src="APPS CRYPTO symmetric operation_modes.png" border="0" alt="" title=""></p>
<ol class="Element630">
<li value="9" class="Element600">The application demonstration offers the following two modes of operation.</li>
</ol>
<ul class="Element630">
<li class="Element600">Configuration Mode: This mode is used to configure a blank ATECC608A module with the configuration data and keys to be stored. A blank ATECC608A device is in an unlocked state. This operation performs a lock on the Configuration Zone and Data Zones on the ATECC608A device. The locking operation is a one time operation and is irreversible.</li>
<li class="Element600">Authentication Mode: This mode performs the secured authentication of the Remote ATECC608A device.</li>
</ul>
<ol class="Element630">
<li value="10" class="Element600">Selecting Option 1 - Configuration Mode</li>
</ol>
<ul class="Element630">
<li class="Element600">The display prompts the user to perform an action</li>
</ul><p class="Element10" style="text-align: center;">
<img src="APPS CRYPTO asymmetric configuration_mode.png" border="0" alt="" title=""></p><p class="Element10">
When the Secure 4 click board is plugged-in, the application enters into Configuration Write mode, and prints the existing or default configuration. </p><div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table2">
<tr>
<td class="Element67" valign="top" width="20%">
<div class="Element68">
<img src="Note Icon.png" border="0" alt="" title=""><strong>Note</strong>:&nbsp;</div></td><td class="Element67" valign="top" width="80%">
<div class="Element68">
The existing or default configuration may be different from what is shown in the following figure.&nbsp;</div></td></tr></table></div></div>
<p class="Element10" style="text-align: center;">
<img src="APPS CRYPTO asymmetric writing_configuration1.png" border="0" alt="" title=""></p><p class="Element10">
If the plugged-in board is a brand new Secure 4 click board, the application will write the new configuration to the configuration zone and lock it. The application will display the following messages:</p>
<ul class="Element630">
<li class="Element600">Configuration Write Complete</li>
<li class="Element600">Locking Configuration Zone..</li>
<li class="Element600">Configuration Zone Lock Complete</li>
</ul><p class="Element10">
This would be followed by the writing of the new data (data slot contents and new keys) to the&nbsp;</p>
<p class="Element10">
data zone and locking it. It would display the following messages:</p>
<ul class="Element630">
<li class="Element600">Writing Data Zone</li>
<li class="Element600">Data Zone Write Complete</li>
<li class="Element600">Locking Data Zone..</li>
<li class="Element600">Data Zone Lock Complete</li>
<li class="Element600">**Host board Configuration Done**</li>
</ul><p class="Element10">
If the plugged-in board is already configured, the application displays the following message:</p>
<ul class="Element630">
<li class="Element600">ATCA already configured.</li>
</ul><p class="Element10">
Once the host configuration is completed, the display prompts the user to choose an action:</p>
<ul class="Element630">
<li class="Element600">Plug in remote Secure 4 Click board in Mikro Bus Interface 2 and press S1.</li>
</ul><p class="Element10">
When the Secure 4 click board is plugged-in, the application enters the configuration write mode and prints the existing or default configuration. </p><div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table2">
<tr>
<td class="Element67" valign="top" width="20%">
<div class="Element68">
<img src="Note Icon.png" border="0" alt="" title=""><strong>Note</strong>:&nbsp;</div></td><td class="Element67" valign="top" width="80%">
<div class="Element68">
The existing or default configuration may be different from what is shown in the following figure.&nbsp;</div></td></tr></table></div></div>
<p class="Element10" style="text-align: center;">
<img src="APPS CRYPTO asymmetric writing_configuration2.png" border="0" alt="" title=""></p><p class="Element10">
If the plugged-in board is a brand new Secure 4 click board, the application will write the new configuration to the configuration zone and lock it. It will display the following messages:</p>
<ul class="Element630">
<li class="Element600">Configuration Write Complete</li>
<li class="Element600">Locking Configuration Zone</li>
<li class="Element600">Configuration Zone Lock Complete</li>
</ul><p class="Element10">
This would be followed by writing of the new data (data slot contents and new keys) to the data zone and locking it. It would display the following messages:</p>
<ul class="Element630">
<li class="Element600">Writing Data Zone</li>
<li class="Element600">Data Zone Write Complete</li>
<li class="Element600">Locking Data Zone</li>
<li class="Element600">Data Zone Lock Complete</li>
<li class="Element600">**Remote board Configuration Done**</li>
</ul><p class="Element10">
If the plugged-in board is already configured, the application displays the following message:</p>
<ul class="Element630">
<li class="Element600">ATCA already configured</li>
</ul><p class="Element10">
The application provides a user the option to return to main menu:</p>
<ul class="Element630">
<li class="Element600">Press a key followed by 'enter' key to return to Options Menu.</li>
</ul><p class="Element10">
&nbsp;</p>

<ol class="Element630">
<li value="11" class="Element600">Selecting Option 2 - Authentication Mode</li>
</ol><p class="Element10">
<i>Pass Case:</i></p>
<ul class="Element630">
<li class="Element600">By default, the application performs successful authentication of the Remote Secure 4 click (plugged in J10). The successful authentication will be indicated by a green LED (LED2) on the board</li>
</ul><p class="Element10" style="text-align: center;">
<img src="APPS CRYPTO symmetric authentication_mode.png" border="0" alt="" title=""></p>
<ul class="Element630">
<li class="Element600">The Remote Secure 4 click successfully authenticates as it shares the secret key with the host.</li>
</ul><div class="Element63">
<div class="TableDiv">
<table cellspacing="0" class="Table2">
<tr>
<td class="Element67" valign="top" width="20%">
<div class="Element68">
<img src="Note Icon.png" border="0" alt="" title=""><strong>Note</strong>:&nbsp;</div></td><td class="Element67" valign="top" width="80%">
<div class="Element68">
In configuration mode, both the host and device (ATECC608A) are programmed with four identical keys. Refer to the function, <span class="Element146">ECC_ATCA_CONFIGURE_WriteData</span> in<span class="Element146"> ecc_atca_configure.c</span>.&nbsp;</div></td></tr></table></div></div>

<ul class="Element630">
<li class="Element600">In the file ecc_symmetric_app.c the implementation of the function _ECC_SYMMETRIC_APP_Handle_Authentication, the MAC is computed and verified for Slot 0, which corresponds to Key 0 being used to compute the MAC on the remote device. The same Key 0 is used to verify the MAC on the host device. Since the key is same, the MAC verification on the host is successful.</li>
</ul><p class="Element10" style="text-align: center;">
<img src="APPS CRYPTO symmetric atcab_checkmac.png" border="0" alt="" title=""></p><p class="Element10">
<i>Fail Case:</i></p>
<ul class="Element630">
<li class="Element600">To test the Authentication Failure case, uncomment and comment the below lines of code in the function _<span class="Element146">ECC_SYMMETRIC_APP_Handle_Authentication</span> in the file <span class="Element146">ecc_symmetric_app.c</span>.</li>
</ul><p class="Element10" style="text-align: center;">
<img src="APPS CRYPTO symmetric fail_case.png" border="0" alt="" title=""></p><p class="Element10">
&nbsp;</p>

<ul class="Element630">
<li class="Element600">Build and program the code. Repeat the user actions to select Authentication Mode. The application will fail to authenticate the Remote Secure 4 click (plugged in J10). The failure is indicated by a red LED (LED1) on the board.</li>
</ul><p class="Element10" style="text-align: center;">
<img src="APPS CRYPTO symmetric authentication_failure.png" border="0" alt="" title=""></p><p class="Element10">
&nbsp;</p>

<ul class="Element630">
<li class="Element600">The remote Secure 4 click failed to authenticate because the secret key used to compute the MAC by the remote, and the secret key used to verify the MAC from the remote by the host are different. The remote used the Key 0 to compute the MAC, while the host used Key 1 to verify the computed MAC. Since the Keys are not identical, the MAC verification fails, indicating that the host and the remote do not share a key.</li>
<li class="Element600">The application then provides the following message to return to the main menu:
<ul class="Element631">
<li class="Element601">Press a key followed by 'enter' key to return to Option Menu.</li>
</ul></li>
</ul></div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="04300.html">Volume I: Getting Started With MPLAB Harmony Libraries and Applications</a> &gt; <a href="03342.html">Applications Help</a> &gt; <a href="07547.html">Crypto Demonstrations</a> &gt; <a href="03545.html">Demonstrations</a> &gt; <a href="03550.html">ecc_symmetric</a> &gt; <a href="03553.html">Running the Demonstration</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: APPS CRYPTO ecc_symmetric_run Topic Title: Running the Demonstration)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>