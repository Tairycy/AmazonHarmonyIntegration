<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>SYS_DMA_ChannelSourceTransferredSizeGet Function</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta name="save" content="history" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoad();" onmousedown="onBodyMouseDown();">
<div id="persistenceDiv" style="display:none; behavior:url(#default#userData);"></div>

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="24419.html">System Service Libraries Help</a> &gt; <a href="07980.html">Direct Memory Access (DMA) System Service Library</a> &gt; <a href="24283.html">Library Interface</a> &gt; b) Channel Setup and Management Functions &gt; <a href="23733.html">SYS_DMA_ChannelSourceTransferredSizeGet Function</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
MPLAB Harmony Help</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="23722.html">Previous</a> | <a href="24283.html">Up</a> | <a href="23737.html">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: SYS_DMA_ChannelSourceTransferredSizeGet@SYS_DMA_CHANNEL_HANDLE Topic Title: SYS_DMA_ChannelSourceTransferredSizeGet Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table><div class="Element5">
SYS_DMA_ChannelSourceTransferredSizeGet Function</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<div class="Element58">
<a name="43"></a><div class="Element99">
C</div>
<div class="Element101"><div class="Element100"><pre class="Element100">size_t <strong><span style="color: #000000">SYS_DMA_ChannelSourceTransferredSizeGet</span></strong>(
    SYS_DMA_CHANNEL_HANDLE <strong><span style="color: #000000">handle</span></strong>
);</pre></div></div>
<a name="4465736372697074696F6E"></a><div class="Element14">
Description</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
When a data transfer request is submitted. At any time while the transmission is in progress the size of the amount of data transferred from source can be known by calling this function.</p></div>
</div>
<a name="507265636F6E646974696F6E73"></a><div class="Element14">
Preconditions</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
DMA should have been initialized by calling <a href="23738.html">SYS_DMA_Initialize</a>. DMA channel should have been allocated by calling <a href="23719.html">SYS_DMA_ChannelAllocate</a>. Data transfer should have been initiated by calling <a href="23735.html">SYS_DMA_ChannelTransferAdd</a> or <a href="23737.html">SYS_DMA_ChannelTransferSet</a>.</p></div>
</div>
<a name="506172616D6574657273"></a><div class="Element14">
Parameters</div>
<div class="Element11">
<div class="Element10">
<div class="Element312">
<div class="TableDiv">
<table cellspacing="0" class="Table4">
<tr>
<td class="Element300" valign="top" width="35%">
<div class="Element301">
Parameters&nbsp;</div></td><td class="Element304" valign="top" width="65%">
<div class="Element305">
Description&nbsp;</div></td></tr><tr>
<td class="Element302" valign="top" width="35%">
<div class="Element303">
handle&nbsp;</div></td><td class="Element306" valign="top" width="65%">
<div class="Element307">
A valid channel handle, returned from the system service's Allocate routine&nbsp;</div></td></tr></table></div></div>
</div>
</div>
<a name="52657475726E73"></a><div class="Element14">
Returns</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
size_t - Returns the number of bytes transferred from the submitted size.</p></div>
</div>
<a name="52656D61726B73"></a><div class="Element14">
Remarks</div>
<div class="Element11">
<div class="Element10">
<p class="Element10">
None.</p></div>
</div>
<a name="4578616D706C65"></a><div class="Element14">
Example</div>
<div class="Element11">
<div class="Element10">
<div class="Element170">
<a href="#" onclick="CopyElementToClipboard('code03953');">Copy Code</a></div>
<div class="Element13"><div class="Element12" id="code03953"><pre class="Element12"><i><span style="color: #008000">// 'handle' is a valid handle returned</span></i>
<i><span style="color: #008000">// by the SYS_DMA_ChannelAllocate function.</span></i>
MY_APP_OBJ          myAppObj;
uint8_t             buf[10];
<strong><span style="color: #000080">void</span></strong>                *srcAddr;
<strong><span style="color: #000080">void</span></strong>                *destAddr;
size_t              srcSize;
size_t              destSize;
size_t              cellSize;
size_t              transferredSize;

srcAddr     = (uint8_t *) buf;
srcSize     = 10;
destAddr    = (uin8_t*) &amp;U2TXREG;
destSize    = 1;
cellSize    = 1;
channelHandle = <a href="23719.html">SYS_DMA_ChannelAllocate</a>(channel);
<i><span style="color: #008000">// User registers an event handler with system service. This is done once</span></i>

<a href="23736.html">SYS_DMA_ChannelTransferEventHandlerSet</a>(handle, APP_DMASYSTransferEventHandler,
                                                        (uintptr_t)&amp;myAppObj);

<a href="23735.html">SYS_DMA_ChannelTransferAdd</a>(handle,srcAddr,srcSize,destAddr,destSize,cellSize);

<strong><span style="color: #000080">if</span></strong>(SYS_DMA_CHANNEL_HANDLE_INVALID == handle)
{
    <i><span style="color: #008000">// Error handling here</span></i>
}

<i><span style="color: #008000">// The data is being transferred after adding the transfer to the DMA channel.</span></i>
<i><span style="color: #008000">// The user can get to know dynamically the amount of data</span></i>
<i><span style="color: #008000">// transmitted from source by calling SYS_DMA_ChannelSourceTransferredSizeGet</span></i>
transferredSize = SYS_DMA_ChannelSourceTransferredSizeGet(channelHandle);</pre></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="16811.html">Volume V: MPLAB Harmony Framework Reference</a> &gt; <a href="24419.html">System Service Libraries Help</a> &gt; <a href="07980.html">Direct Memory Access (DMA) System Service Library</a> &gt; <a href="24283.html">Library Interface</a> &gt; b) Channel Setup and Management Functions &gt; <a href="23733.html">SYS_DMA_ChannelSourceTransferredSizeGet Function</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="100%">
<div class="Element3">
 MPLAB Harmony Help</div>
</td></tr><tr><td width="100%">
<div class="Element4">
<a href="contents.htm">Contents</a> | <a href="idx.html">Index</a> | <a href="04300.html">Home</a></div>
</td></tr><tr><td width="100%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: SYS_DMA_ChannelSourceTransferredSizeGet@SYS_DMA_CHANNEL_HANDLE Topic Title: SYS_DMA_ChannelSourceTransferredSizeGet Function)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>